(this["webpackJsonpthe-greek-plug"]=this["webpackJsonpthe-greek-plug"]||[]).push([[0],{115:function(e,t,c){},117:function(e,t,c){},118:function(e,t,c){},119:function(e,t,c){},120:function(e,t,c){},121:function(e,t,c){},122:function(e,t,c){},123:function(e,t,c){},124:function(e,t,c){},125:function(e,t,c){},126:function(e,t,c){},127:function(e,t,c){},128:function(e,t,c){},129:function(e,t,c){},130:function(e,t,c){},131:function(e,t,c){},132:function(e,t,c){},134:function(e,t,c){},135:function(e,t,c){},136:function(e,t,c){},137:function(e,t,c){},138:function(e,t,c){},139:function(e,t,c){},140:function(e,t,c){},141:function(e,t,c){"use strict";c.r(t);var r=c(0),n=c(2),a=c.n(n),s=c(47),i=c.n(s),u=c(12),o=c(7),l=c(71),j=c(23),d=c(72),b=c.n(d),O=c(73),h=c(81),p=c(54),x=c(74),f=c.n(x),m=c(4),v={EMAIL_SIGN_IN_START:"EMAIL_SIGN_IN_START",SIGN_IN_SUCCESS:"SIGN_IN_SUCCESS",CHECK_USER_SESSION:"CHECK_USER_SESSION",SIGN_OUT_USER_START:"SIGN_OUT_USER_START",SIGN_OUT_USER_SUCCESS:"SIGN_OUT_USER_SUCCESS",SIGN_UP_USER_START:"SIGN_UP_USER_START",RESET_PASSWORD_START:"RESET_PASSWORD_START",RESET_PASSWORD_SUCCESS:"RESET_PASSWORD_SUCCESS",GOOGLE_SIGN_IN_START:"GOOGLE_SIGN_IN_START",USER_ERROR:"USER_ERROR",RESET_USER_STATE:"RESET_USER_STATE"},S={currentUser:null,resetPasswordSuccess:!1,userErr:[]},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.SIGN_IN_SUCCESS:return Object(m.a)(Object(m.a)({},e),{},{currentUser:t.payload,userErr:[]});case v.RESET_PASSWORD_SUCCESS:return Object(m.a)(Object(m.a)({},e),{},{resetPasswordSuccess:t.payload});case v.USER_ERROR:return Object(m.a)(Object(m.a)({},e),{},{userErr:t.payload});case v.RESET_USER_STATE:case v.SIGN_OUT_USER_SUCCESS:return Object(m.a)(Object(m.a)({},e),S);default:return e}},_={ADD_NEW_PRODUCT_START:"ADD_NEW_PRODUCT_START",FETCH_PRODUCTS_START:"FETCH_PRODUCTS_START",SET_PRODUCTS:"SET_PRODUCTS",DELETE_PRODUCT_START:"DELETE_PRODUCT_START",FETCH_PRODUCT_START:"FETCH_PRODUCT_START",SET_PRODUCT:"SET_PRODUCT"},E={products:[],product:{}},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _.SET_PRODUCTS:return Object(m.a)(Object(m.a)({},e),{},{products:t.payload});case _.SET_PRODUCT:return Object(m.a)(Object(m.a)({},e),{},{product:t.payload});default:return e}},y={ADD_TO_CART:"ADD_TO_CART",REMOVE_CART_ITEM:"REMOVE_CART_ITEM",REDUCE_CART_ITEM:"REDUCE_CART_ITEM",CLEAR_CART:"CLEAR_CART"},g=c(36),C=function(e){var t=e.prevCartItems,c=e.nextCartItem;return function(e){var t=e.prevCartItems,c=e.nextCartItem;return t.find((function(e){return e.documentID===c.documentID}))}({prevCartItems:t,nextCartItem:c})?t.map((function(e){return e.documentID===c.documentID?Object(m.a)(Object(m.a)({},e),{},{quantity:e.quantity+1}):e})):[].concat(Object(g.a)(t),[Object(m.a)(Object(m.a)({},c),{},{quantity:1})])},D=function(e){var t=e.prevCartItems,c=e.cartItemToRemove;return t.filter((function(e){return e.documentID!==c.documentID}))},N=function(e){var t=e.prevCartItems,c=e.cartItemToReduce,r=t.find((function(e){return e.documentID===c.documentID}));return 1===r.quantity?t.filter((function(e){return e.documentID!==r.documentID})):t.map((function(e){return e.documentID===r.documentID?Object(m.a)(Object(m.a)({},e),{},{quantity:e.quantity-1}):e}))},I={cartItems:[]},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y.ADD_TO_CART:return Object(m.a)(Object(m.a)({},e),{},{cartItems:C({prevCartItems:e.cartItems,nextCartItem:t.payload})});case y.REDUCE_CART_ITEM:return Object(m.a)(Object(m.a)({},e),{},{cartItems:N({prevCartItems:e.cartItems,cartItemToReduce:t.payload})});case y.REMOVE_CART_ITEM:return Object(m.a)(Object(m.a)({},e),{},{cartItems:D({prevCartItems:e.cartItems,cartItemToRemove:t.payload})});case y.CLEAR_CART:return Object(m.a)(Object(m.a)({},e),I);default:return e}},w={SAVE_ORDER_HISTORY_START:"SAVE_ORDER_HISTORY_START",GET_USER_ORDER_HISTORY_START:"GET_USER_ORDER_HISTORY_START",SET_USER_ORDER_HISOTRY:"SET_USER_ORDER_HISOTRY",GET_ORDER_DETAILS_START:"GET_ORDER_DETAILS_START",SET_ORDER_DETAILS:"SET_ORDER_DETAILS"},U={orderHistory:[],orderDetails:{}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.SET_USER_ORDER_HISOTRY:return Object(m.a)(Object(m.a)({},e),{},{orderHistory:t.payload});case w.SET_ORDER_DETAILS:return Object(m.a)(Object(m.a)({},e),{},{orderDetails:t.payload});default:return e}},k=Object(j.c)({user:T,productsData:R,cartData:A,ordersData:P}),L={key:"root",storage:f.a,whitelist:["cartData"]},G=Object(p.a)(L,k),M=c(6),H=c.n(M),q=c(10),W=c(44),Y=c(46);c(142),c(96);Y.a.initializeApp({apiKey:"AIzaSyA4q2iXN4mC98wDVqt-St6FoHNzC_ymM2c",authDomain:"the-greek-plug-c0f5c.firebaseapp.com",projectId:"the-greek-plug-c0f5c",storageBucket:"the-greek-plug-c0f5c.appspot.com",messagingSenderId:"231544854271",appId:"1:231544854271:web:16c55daf8a2709d94c1eca"});var B=Y.a.auth(),F=Y.a.firestore(),V=new Y.a.auth.GoogleAuthProvider;V.setCustomParameters({prompt:"select_account"});var z=function(){var e=Object(W.a)(H.a.mark((function e(t){var c,r,n,a,s,i,u,o;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=t.userAuth,r=t.additionalData,c){e.next=3;break}return e.abrupt("return");case 3:return n=c.uid,a=F.doc("users/".concat(n)),e.next=7,a.get();case 7:if(e.sent.exists){e.next=20;break}return s=c.displayName,i=c.email,u=new Date,o=["user"],e.prev=12,e.next=15,a.set(Object(m.a)({displayName:s,email:i,createdDate:u,userRoles:o},r));case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(12),console.log(e.t0);case 20:return e.abrupt("return",a);case 21:case"end":return e.stop()}}),e,null,[[12,17]])})));return function(t){return e.apply(this,arguments)}}(),K=function(e){return{type:v.SIGN_IN_SUCCESS,payload:e}},J=function(){return{type:v.SIGN_OUT_USER_START}},Q=function(e){return{type:v.USER_ERROR,payload:e}},X=function(e){var t={url:"https://thegreekplug.shop/login"};return new Promise((function(c,r){B.sendPasswordResetEmail(e,t).then((function(){c()})).catch((function(){r(["Email not found. Please try again."])}))}))},Z=H.a.mark(de),$=H.a.mark(be),ee=H.a.mark(Oe),te=H.a.mark(he),ce=H.a.mark(pe),re=H.a.mark(xe),ne=H.a.mark(fe),ae=H.a.mark(me),se=H.a.mark(ve),ie=H.a.mark(Se),ue=H.a.mark(Te),oe=H.a.mark(_e),le=H.a.mark(Ee),je=H.a.mark(Re);function de(e){var t,c,r,n=arguments;return H.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=n.length>1&&void 0!==n[1]?n[1]:{},a.prev=1,a.next=4,Object(q.b)(z,{userAuth:e,additionalData:t});case 4:return c=a.sent,a.next=7,c.get();case 7:return r=a.sent,a.next=10,Object(q.c)(K(Object(m.a)({id:r.id},r.data())));case 10:a.next=15;break;case 12:a.prev=12,a.t0=a.catch(1),console.log(a.t0);case 15:case"end":return a.stop()}}),Z,null,[[1,12]])}function be(e){var t,c,r,n,a;return H.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload,c=t.email,r=t.password,s.prev=1,s.next=4,B.signInWithEmailAndPassword(c,r);case 4:return n=s.sent,a=n.user,s.next=8,de(a);case 8:s.next=13;break;case 10:s.prev=10,s.t0=s.catch(1),console.log(s.t0);case 13:case"end":return s.stop()}}),$,null,[[1,10]])}function Oe(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.d)(v.EMAIL_SIGN_IN_START,be);case 2:case"end":return e.stop()}}),ee)}function he(){var e;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,new Promise((function(e,t){var c=B.onAuthStateChanged((function(t){c(),e(t)}),t)}));case 3:if(e=t.sent){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,de(e);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),te,null,[[0,10]])}function pe(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.d)(v.CHECK_USER_SESSION,he);case 2:case"end":return e.stop()}}),ce)}function xe(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.signOut();case 3:return e.next=5,Object(q.c)({type:v.SIGN_OUT_USER_SUCCESS});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),re,null,[[0,7]])}function fe(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.d)(v.SIGN_OUT_USER_START,xe);case 2:case"end":return e.stop()}}),ne)}function me(e){var t,c,r,n,a,s,i,u,o;return H.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(t=e.payload,c=t.displayName,r=t.email,n=t.password,a=t.confirmPassword,n===a){l.next=6;break}return s=["Password Don't match"],l.next=5,Object(q.c)(Q(s));case 5:return l.abrupt("return");case 6:return l.prev=6,l.next=9,B.createUserWithEmailAndPassword(r,n);case 9:return i=l.sent,u=i.user,o={displayName:c},l.next=14,de(u,o);case 14:l.next=19;break;case 16:l.prev=16,l.t0=l.catch(6),console.log(l.t0);case 19:case"end":return l.stop()}}),ae,null,[[6,16]])}function ve(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.d)(v.SIGN_UP_USER_START,me);case 2:case"end":return e.stop()}}),se)}function Se(e){var t;return H.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload.email,c.prev=1,c.next=4,Object(q.b)(X,t);case 4:return c.next=6,Object(q.c)({type:v.RESET_PASSWORD_SUCCESS,payload:!0});case 6:c.next=12;break;case 8:return c.prev=8,c.t0=c.catch(1),c.next=12,Object(q.c)(Q(c.t0));case 12:case"end":return c.stop()}}),ie,null,[[1,8]])}function Te(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.d)(v.RESET_PASSWORD_START,Se);case 2:case"end":return e.stop()}}),ue)}function _e(){var e,t;return H.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,B.signInWithPopup(V);case 3:return e=c.sent,t=e.user,c.next=7,de(t);case 7:c.next=12;break;case 9:c.prev=9,c.t0=c.catch(0),console.log(c.t0);case 12:case"end":return c.stop()}}),oe,null,[[0,9]])}function Ee(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.d)(v.GOOGLE_SIGN_IN_START,_e);case 2:case"end":return e.stop()}}),le)}function Re(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.a)([Object(q.b)(Oe),Object(q.b)(pe),Object(q.b)(fe),Object(q.b)(ve),Object(q.b)(Te),Object(q.b)(Ee)]);case 2:case"end":return e.stop()}}),je)}var ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:_.FETCH_PRODUCTS_START,payload:e}},ge=function(e){return{type:_.SET_PRODUCTS,payload:e}},Ce=function(e){return{type:_.SET_PRODUCT,payload:e}},De=function(e){return new Promise((function(t,c){F.collection("products").doc().set(e).then((function(){t()})).catch((function(e){c(e)}))}))},Ne=function(e){var t=e.filterType,c=e.startAfterDoc,r=e.persistProducts,n=void 0===r?[]:r;return new Promise((function(e,r){var a=F.collection("products").orderBy("createdDate").limit(6);t&&(a=a.where("productCategory","==",t)),c&&(a=a.startAfter(c)),a.get().then((function(t){var c=t.size,r=[].concat(Object(g.a)(n),Object(g.a)(t.docs.map((function(e){return Object(m.a)(Object(m.a)({},e.data()),{},{documentID:e.id})}))));e({data:r,queryDoc:t.docs[c-1],isLastPage:c<1})})).catch((function(e){r(e)}))}))},Ie=function(e){return new Promise((function(t,c){F.collection("products").doc(e).delete().then((function(){t()})).catch((function(e){c(e)}))}))},Ae=function(e){return new Promise((function(t,c){F.collection("products").doc(e).get().then((function(c){c.exists&&t(Object(m.a)(Object(m.a)({},c.data()),{},{documentID:e}))})).catch((function(e){c(e)}))}))},we=H.a.mark(We),Ue=H.a.mark(Ye),Pe=H.a.mark(Be),ke=H.a.mark(Fe),Le=H.a.mark(Ve),Ge=H.a.mark(ze),Me=H.a.mark(Ke),He=H.a.mark(Je),qe=H.a.mark(Qe);function We(e){var t,c;return H.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.prev=1,c=new Date,r.next=5,De(Object(m.a)(Object(m.a)({},t),{},{productAdminUserUID:B.currentUser.uid,createdDate:c}));case 5:return r.next=7,Object(q.c)(ye());case 7:r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),console.log(r.t0);case 12:case"end":return r.stop()}}),we,null,[[1,9]])}function Ye(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.d)(_.ADD_NEW_PRODUCT_START,We);case 2:case"end":return e.stop()}}),Ue)}function Be(e){var t,c;return H.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.prev=1,r.next=4,Ne(t);case 4:return c=r.sent,r.next=7,Object(q.c)(ge(c));case 7:r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),console.log(r.t0);case 12:case"end":return r.stop()}}),Pe,null,[[1,9]])}function Fe(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.d)(_.FETCH_PRODUCTS_START,Be);case 2:case"end":return e.stop()}}),ke)}function Ve(e){var t;return H.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,c.prev=1,c.next=4,Ie(t);case 4:return c.next=6,Object(q.c)(ye());case 6:c.next=11;break;case 8:c.prev=8,c.t0=c.catch(1),console.log(c.t0);case 11:case"end":return c.stop()}}),Le,null,[[1,8]])}function ze(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.d)(_.DELETE_PRODUCT_START,Ve);case 2:case"end":return e.stop()}}),Ge)}function Ke(e){var t,c;return H.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.prev=1,r.next=4,Ae(t);case 4:return c=r.sent,r.next=7,Object(q.c)(Ce(c));case 7:r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),console.log(r.t0);case 12:case"end":return r.stop()}}),Me,null,[[1,9]])}function Je(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.d)(_.FETCH_PRODUCT_START,Ke);case 2:case"end":return e.stop()}}),He)}function Qe(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.a)([Object(q.b)(Ye),Object(q.b)(Fe),Object(q.b)(ze),Object(q.b)(Je)]);case 2:case"end":return e.stop()}}),qe)}var Xe=function(e){return new Promise((function(t,c){F.collection("orders").doc().set(e).then((function(){t()})).catch((function(e){c(e)}))}))},Ze=function(e){return new Promise((function(t,c){var r=F.collection("orders").orderBy("orderCreatedDate");(r=r.where("orderUserID","==",e)).get().then((function(e){var c=Object(g.a)(e.docs.map((function(e){return Object(m.a)(Object(m.a)({},e.data()),{},{documentID:e.id})})));t({data:c})})).catch((function(e){c(e)}))}))},$e=function(e){return new Promise((function(t,c){F.collection("orders").doc(e).get().then((function(c){c.exists&&t(Object(m.a)(Object(m.a)({},c.data()),{},{documentID:e}))})).catch((function(e){c(e)}))}))},et=function(e){return{type:y.ADD_TO_CART,payload:e}},tt=function(e){return{type:w.SET_USER_ORDER_HISOTRY,payload:e}},ct=function(e){return{type:w.SET_ORDER_DETAILS,payload:e}},rt=H.a.mark(lt),nt=H.a.mark(jt),at=H.a.mark(dt),st=H.a.mark(bt),it=H.a.mark(Ot),ut=H.a.mark(ht),ot=H.a.mark(pt);function lt(e){var t,c;return H.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.prev=1,r.next=4,Ze(t);case 4:return c=r.sent,r.next=7,Object(q.c)(tt(c));case 7:r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),console.log(r.t0);case 12:case"end":return r.stop()}}),rt,null,[[1,9]])}function jt(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.d)(w.GET_USER_ORDER_HISTORY_START,lt);case 2:case"end":return e.stop()}}),nt)}function dt(e){var t,c;return H.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.prev=1,c=new Date,r.next=5,Xe(Object(m.a)(Object(m.a)({},t),{},{orderUserID:B.currentUser.uid,orderCreatedDate:c}));case 5:return r.next=7,Object(q.c)({type:y.CLEAR_CART});case 7:r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),console.log(r.t0);case 12:case"end":return r.stop()}}),at,null,[[1,9]])}function bt(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.d)(w.SAVE_ORDER_HISTORY_START,dt);case 2:case"end":return e.stop()}}),st)}function Ot(e){var t,c;return H.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.prev=1,r.next=4,$e(t);case 4:return c=r.sent,console.log(c),r.next=8,Object(q.c)(ct(c));case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(1),console.log(r.t0);case 13:case"end":return r.stop()}}),it,null,[[1,10]])}function ht(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.d)(w.GET_ORDER_DETAILS_START,Ot);case 2:case"end":return e.stop()}}),ut)}function pt(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.a)([Object(q.b)(bt),Object(q.b)(jt),Object(q.b)(ht)]);case 2:case"end":return e.stop()}}),ot)}var xt=H.a.mark(ft);function ft(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.a)([Object(q.b)(Re),Object(q.b)(Qe),Object(q.b)(pt)]);case 2:case"end":return e.stop()}}),xt)}var mt=Object(h.a)(),vt=[O.a,mt,b.a],St=Object(j.e)(G,j.a.apply(void 0,vt));mt.run(ft);var Tt=Object(p.b)(St),_t=c(17),Et=c(51),Rt=c.n(Et),yt=function(e){return!(!e||!Array.isArray(e.userRoles))&&!!e.userRoles.includes("admin")},gt=Rt.a.create({baseURL:"https://us-central1-the-greek-plug-c0f5c.cloudfunctions.net/api"}),Ct=(c(115),function(e){return{currentUser:e.user.currentUser}}),Dt=function(e){var t=Object(o.c)(Ct).currentUser;return yt(t)?Object(r.jsx)("div",{className:"adminToolbar",children:Object(r.jsx)("ul",{children:Object(r.jsx)("li",{children:Object(r.jsx)(u.b,{to:"/admin",children:"My admin"})})})}):null},Nt=function(e){return{currentUser:e.user.currentUser}},It=function(e){var t=Object(o.c)(Nt).currentUser,c=Object(_t.f)();return Object(n.useEffect)((function(){t||c.push("/login")}),[t]),t},At=function(e){return{currentUser:e.user.currentUser}},wt=function(e){var t=Object(o.c)(At).currentUser,c=Object(_t.f)();return Object(n.useEffect)((function(){yt(t)||c.push("/login")}),[t]),t},Ut=function(e){return It(e)&&e.children},Pt=function(e){return wt(e)&&e.children},kt=c(14),Lt=c(34),Gt=Object(Lt.a)([function(e){return e.cartData}],(function(e){return e.cartItems})),Mt=Object(Lt.a)([Gt],(function(e){return e.reduce((function(e,t){return e+t.quantity}),0)})),Ht=Object(Lt.a)([Gt],(function(e){return e.reduce((function(e,t){return e+t.quantity*t.productPrice}),0)})),qt=(c(117),function(e){return{currentUser:e.user.currentUser,totalNumCartItems:Mt(e)}}),Wt=function(e){var t=Object(_t.g)(),c=Object(n.useState)(!1),a=Object(kt.a)(c,2),s=a[0],i=a[1],l=Object(o.b)(),j=Object(o.c)(qt),d=j.currentUser,b=j.totalNumCartItems;return Object(n.useEffect)((function(){i(!1)}),[t]),Object(r.jsx)("header",{className:"header",children:Object(r.jsxs)("div",{className:"wrap",children:[Object(r.jsx)("div",{className:"logo",children:Object(r.jsx)(u.b,{to:"/",children:Object(r.jsx)("span",{className:"logo-text",children:"The Greek Plug"})})}),Object(r.jsx)("nav",{className:"mainMenu ".concat(s?"active":""),children:Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:Object(r.jsx)(u.b,{to:"/",children:"Home"})}),Object(r.jsx)("li",{children:Object(r.jsx)(u.b,{to:"/search",children:"Search"})})]})}),Object(r.jsx)("div",{className:"callToActions",children:Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:Object(r.jsxs)(u.b,{to:"/cart",children:["Your Cart (",b,")",Object(r.jsx)("i",{class:"fas fa-shopping-basket"})]})}),d&&[Object(r.jsx)("li",{children:Object(r.jsxs)(u.b,{to:"/dashboard",children:["My Account",Object(r.jsx)("i",{class:"fas fa-user-circle"})]})},1),Object(r.jsx)("li",{children:Object(r.jsxs)("span",{onClick:function(){l(J())},children:["LogOut",Object(r.jsx)("i",{class:"fas fa-sign-out-alt"})]})},2)],!d&&[Object(r.jsx)("li",{className:"hideOnMobile",children:Object(r.jsx)(u.b,{to:"/registration",children:"Register"})},1),Object(r.jsx)("li",{children:Object(r.jsxs)(u.b,{to:"/login",children:["Login",Object(r.jsx)("i",{class:"fas fa-user-circle"})]})},2)],Object(r.jsx)("li",{className:"mobileMenu",children:Object(r.jsx)("span",{onClick:function(){return i(!s)},children:Object(r.jsx)("i",{className:"fas fa-bars"})})})]})})]})})};Wt.defaultProps={currentUser:null};var Yt=Wt,Bt=(c(118),function(e){return Object(r.jsx)("footer",{className:"footer",children:Object(r.jsx)("div",{className:"wrap",children:"\xa9 Anastasios Papapanagiotou 2020-2021"})})}),Ft=function(e){return Object(r.jsxs)("div",{children:[Object(r.jsx)(Yt,Object(m.a)({},e)),Object(r.jsx)("div",{className:"main",children:e.children}),Object(r.jsx)(Bt,{})]})},Vt=function(e){return Object(r.jsxs)("div",{className:"fullHeight",children:[Object(r.jsx)(Yt,Object(m.a)({},e)),e.children,Object(r.jsx)(Bt,{})]})},zt=(c(119),function(e){var t=e.currentUser.displayName;return Object(r.jsx)("div",{className:"userProfile",children:Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:Object(r.jsx)("div",{className:"img",children:Object(r.jsx)("img",{src:"https://i.ibb.co/JFWfNDk/user.png"})})}),Object(r.jsx)("li",{children:Object(r.jsx)("span",{className:"displayName",children:t&&t})})]})})}),Kt=(c(120),function(e){return{currentUser:e.user.currentUser}}),Jt=function(e){var t=e.children,c={currentUser:Object(o.c)(Kt).currentUser};return Object(r.jsxs)("div",{className:"verticalNav",children:[Object(r.jsx)(zt,Object(m.a)({},c)),Object(r.jsx)("div",{className:"menu",children:t})]})},Qt=function(e){var t=Object(o.b)();return Object(r.jsxs)("div",{className:"adminLayout",children:[Object(r.jsx)(Yt,Object(m.a)({},e)),Object(r.jsxs)("div",{className:"controlPanel",children:[Object(r.jsx)("div",{className:"sidebar",children:Object(r.jsx)(Jt,{children:Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:Object(r.jsx)(u.b,{to:"/admin",children:"Home"})}),Object(r.jsx)("li",{children:Object(r.jsx)("span",{className:"signOut",onClick:function(){t(J())},children:"Sign Out"})})]})})}),Object(r.jsx)("div",{className:"content",children:e.children})]}),Object(r.jsx)(Bt,{})]})},Xt=function(e){var t=Object(o.b)();return Object(r.jsxs)("div",{className:"dashboardLayout",children:[Object(r.jsx)(Yt,Object(m.a)({},e)),Object(r.jsxs)("div",{className:"controlPanel",children:[Object(r.jsx)("div",{className:"sidebar",children:Object(r.jsx)(Jt,{children:Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:Object(r.jsx)(u.b,{to:"/dashboard",children:"Home"})}),Object(r.jsx)("li",{children:Object(r.jsx)("span",{className:"signOut",onClick:function(){t(J())},children:"Sign Out"})})]})})}),Object(r.jsx)("div",{className:"content",children:e.children})]}),Object(r.jsx)(Bt,{})]})},Zt=(c(121),function(e){return Object(r.jsx)("div",{className:"directory",children:Object(r.jsxs)("div",{className:"wrap",children:[Object(r.jsx)("div",{className:"item",style:{backgroundImage:"url(".concat("https://i.ibb.co/jMB005J/shoes.jpg",")")},children:Object(r.jsx)(u.b,{to:"/search/shoes",children:"Shop shoes"})}),Object(r.jsx)("div",{className:"item",style:{backgroundImage:"url(".concat("https://i.ibb.co/S7h29y6/sup.jpg",")")},children:Object(r.jsx)(u.b,{to:"/search/clothing",children:"Shop clothing"})})]})})}),$t=(c(122),function(e){return Object(r.jsx)("section",{className:"homepage",children:Object(r.jsx)(Zt,{})})}),ec=c(26),tc=c(39),cc=(c(123),function(e){var t=e.children,c=Object(tc.a)(e,["children"]);return Object(r.jsx)("button",Object(m.a)(Object(m.a)({className:"btn"},c),{},{children:t}))}),rc=function(e){var t=Object(o.b)(),c=Object(_t.f)(),n=e.documentID,a=e.productThumbnail,s=e.productName,i=e.productPrice;if(!n||!a||!s||"undefined"===typeof i)return null;return Object(r.jsxs)("div",{className:"product",children:[Object(r.jsx)("div",{className:"thumb",children:Object(r.jsx)(u.b,{to:"/product/".concat(n),children:Object(r.jsx)("img",{src:a,alt:s})})}),Object(r.jsx)("div",{className:"details",children:Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:Object(r.jsx)("span",{className:"name",children:Object(r.jsx)(u.b,{to:"/product/".concat(n),children:s})})}),Object(r.jsx)("li",{children:Object(r.jsxs)("span",{className:"price",children:[i,"\u20ac"]})}),Object(r.jsx)("li",{children:Object(r.jsx)("div",{className:"addToCart",children:Object(r.jsx)(cc,Object(m.a)(Object(m.a)({},{type:"button"}),{},{onClick:function(){return function(e){e&&(t(et(e)),c.push("/cart"))}(e)},children:"Add to cart"}))})})]})})]})},nc=(c(124),function(e){var t=e.options,c=e.defaultValue,n=e.handleChange,a=e.label,s=Object(tc.a)(e,["options","defaultValue","handleChange","label"]);return!Array.isArray(t)||t.length<1?null:Object(r.jsxs)("div",{className:"formRow",children:[a&&Object(r.jsx)("label",{children:a}),Object(r.jsx)("select",Object(m.a)(Object(m.a)({className:"formSelect",value:c,onChange:n},s),{},{children:t.map((function(e,t){var c=e.value,n=e.name;return Object(r.jsx)("option",{value:c,children:n},t)}))}))]})}),ac=function(e){var t=e.onLoadMoreEvt,c=void 0===t?function(){}:t;return Object(r.jsx)(cc,{onClick:function(){return c()},children:"Load More"})},sc=(c(125),function(e){return{products:e.productsData.products}}),ic=function(e){Object(ec.a)(e);var t=Object(o.b)(),c=Object(_t.f)(),a=Object(_t.h)().filterType,s=Object(o.c)(sc).products,i=s.data,u=s.queryDoc,l=s.isLastPage;Object(n.useEffect)((function(){t(ye({filterType:a}))}),[a]);if(!Array.isArray(i))return null;if(i.length<1)return Object(r.jsx)("div",{className:"products",children:Object(r.jsx)("p",{children:"No search results."})});var j={defaultValue:a,options:[{name:"Show all",value:""},{name:"Shoes",value:"shoes"},{name:"Clothing",value:"clothing"}],handleChange:function(e){var t=e.target.value;c.push("/search/".concat(t))}},d={onLoadMoreEvt:function(){t(ye({filterType:a,startAfterDoc:u,persistProducts:i}))}};return Object(r.jsxs)("div",{className:"products",children:[Object(r.jsx)("h1",{children:"Browse Products"}),Object(r.jsx)(nc,Object(m.a)({},j)),Object(r.jsx)("div",{className:"productResults",children:i.map((function(e,t){var c=e.productThumbnail,n=e.productName,a=e.productPrice;if(!c||!n||"undefined"===typeof a)return null;var s=Object(m.a)({},e);return Object(r.jsx)(rc,Object(m.a)({},s),t)}))}),!l&&Object(r.jsx)(ac,Object(m.a)({},d))]})},uc=function(e){return Object(ec.a)(e),Object(r.jsx)("div",{className:"searchPage",children:Object(r.jsx)(ic,{})})},oc=(c(126),c(127),function(e){var t=e.headline,c=e.children;return Object(r.jsx)("div",{className:"authWrapper",children:Object(r.jsxs)("div",{className:"wrap",children:[t&&Object(r.jsx)("h2",{children:t}),Object(r.jsx)("div",{className:"children",children:c&&c})]})})}),lc=(c(128),function(e){var t=e.handleChange,c=e.label,n=Object(tc.a)(e,["handleChange","label"]);return Object(r.jsxs)("div",{className:"formRow",children:[c&&Object(r.jsx)("label",{children:c}),Object(r.jsx)("input",Object(m.a)({className:"formInput",onChange:t},n))]})}),jc=function(e){var t=e.user;return{currentUser:t.currentUser,userErr:t.userErr}},dc=function(e){var t=Object(o.b)(),c=Object(_t.f)(),a=Object(o.c)(jc),s=a.currentUser,i=a.userErr,l=Object(n.useState)(""),j=Object(kt.a)(l,2),d=j[0],b=j[1],O=Object(n.useState)(""),h=Object(kt.a)(O,2),p=h[0],x=h[1],f=Object(n.useState)(""),S=Object(kt.a)(f,2),T=S[0],_=S[1],E=Object(n.useState)(""),R=Object(kt.a)(E,2),y=R[0],g=R[1],C=Object(n.useState)([]),D=Object(kt.a)(C,2),N=D[0],I=D[1];Object(n.useEffect)((function(){s&&(A(),c.push("/"))}),[s]),Object(n.useEffect)((function(){Array.isArray(i)&&i.length>0&&I(i)}),[i]);var A=function(){b(""),x(""),_(""),g(""),I([])};return Object(r.jsx)(oc,Object(m.a)(Object(m.a)({},{headline:"Registration"}),{},{children:Object(r.jsxs)("div",{className:"formWrap",children:[N.length>0&&Object(r.jsx)("ul",{children:N.map((function(e,t){return Object(r.jsx)("li",{children:e},t)}))}),Object(r.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({type:v.SIGN_UP_USER_START,payload:{displayName:d,email:p,password:T,confirmPassword:y}})},children:[Object(r.jsx)(lc,{type:"text",name:"displayName",value:d,placeholder:"Full name",handleChange:function(e){return b(e.target.value)}}),Object(r.jsx)(lc,{type:"email",name:"email",value:p,placeholder:"Email",handleChange:function(e){return x(e.target.value)}}),Object(r.jsx)(lc,{type:"password",name:"password",value:T,placeholder:"Password",handleChange:function(e){return _(e.target.value)}}),Object(r.jsx)(lc,{type:"password",name:"confirmPassword",value:y,placeholder:"Confirm Password",handleChange:function(e){return g(e.target.value)}}),Object(r.jsx)(cc,{type:"submit",children:"Register"})]}),Object(r.jsxs)("div",{className:"links",children:[Object(r.jsx)(u.b,{to:"/login",children:"LogIn"})," | ",Object(r.jsx)(u.b,{to:"/recovery",children:"Reset Password"})]})]})}))},bc=(c(129),function(e){return Object(r.jsx)(dc,{})}),Oc=(c(130),c(131),function(e){return{currentUser:e.user.currentUser}}),hc=function(e){var t=Object(o.b)(),c=Object(_t.f)(),a=Object(o.c)(Oc).currentUser,s=Object(n.useState)(""),i=Object(kt.a)(s,2),l=i[0],j=i[1],d=Object(n.useState)(""),b=Object(kt.a)(d,2),O=b[0],h=b[1];Object(n.useEffect)((function(){a&&(p(),c.push("/"))}),[a]);var p=function(){j(""),h("")};return Object(r.jsx)(oc,Object(m.a)(Object(m.a)({},{headline:"LogIn"}),{},{children:Object(r.jsx)("div",{className:"formWrap",children:Object(r.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({type:v.EMAIL_SIGN_IN_START,payload:{email:l,password:O}})},children:[Object(r.jsx)(lc,{type:"email",name:"email",value:l,placeholder:"Email",handleChange:function(e){return j(e.target.value)}}),Object(r.jsx)(lc,{type:"password",name:"password",value:O,placeholder:"Password",handleChange:function(e){return h(e.target.value)}}),Object(r.jsx)(cc,{type:"submit",children:"LogIn"}),Object(r.jsx)("div",{className:"socialSignin",children:Object(r.jsx)("div",{className:"row",children:Object(r.jsx)(cc,{onClick:function(){t({type:v.GOOGLE_SIGN_IN_START})},children:"Sign in with Google"})})}),Object(r.jsxs)("div",{className:"links",children:[Object(r.jsx)(u.b,{to:"/registration",children:"Register"})," | ",Object(r.jsx)(u.b,{to:"/recovery",children:"Reset Password"})]})]})})}))},pc=function(e){return Object(r.jsx)(hc,{})},xc=(c(132),function(e){var t=e.user;return{resetPasswordSuccess:t.resetPasswordSuccess,userErr:t.userErr}}),fc=function(e){var t=Object(o.b)(),c=Object(_t.f)(),a=Object(o.c)(xc),s=a.resetPasswordSuccess,i=a.userErr,l=Object(n.useState)(""),j=Object(kt.a)(l,2),d=j[0],b=j[1],O=Object(n.useState)([]),h=Object(kt.a)(O,2),p=h[0],x=h[1];Object(n.useEffect)((function(){s&&(t({type:v.RESET_USER_STATE}),c.push("/login"))}),[s]),Object(n.useEffect)((function(){Array.isArray(i)&&i.length>0&&x(i)}),[i]);return Object(r.jsx)(oc,Object(m.a)(Object(m.a)({},{headline:"Email Password"}),{},{children:Object(r.jsxs)("div",{className:"formWrap",children:[p.length>0&&Object(r.jsx)("ul",{children:p.map((function(e,t){return Object(r.jsx)("li",{children:e},t)}))}),Object(r.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({type:v.RESET_PASSWORD_START,payload:{email:d}})},children:[Object(r.jsx)(lc,{type:"email",name:"email",value:d,placeholder:"Email",handleChange:function(e){return b(e.target.value)}}),Object(r.jsx)(cc,{type:"submit",children:"Email Password"})]}),Object(r.jsxs)("div",{className:"links",children:[Object(r.jsx)(u.b,{to:"/login",children:"LogIn"})," | ",Object(r.jsx)(u.b,{to:"/registration",children:"Register"})]})]})}))},mc=function(e){return Object(r.jsx)(fc,{})},vc=c(154),Sc=c(155),Tc=c(156),_c=c(157),Ec=c(159),Rc=c(158),yc=c(75),gc=c.n(yc),Cc=[{id:"orderCreatedDate",lable:"Order Date"},{id:"documentID",lable:"Order ID"},{id:"orderTotal",lable:"Amount"}],Dc={fontSize:"16px",cursor:"pointer",width:"10%"},Nc=function(e){var t=e.orders,c=Object(_t.f)();return Object(r.jsx)(vc.a,{children:Object(r.jsxs)(Sc.a,{children:[Object(r.jsx)(Tc.a,{children:Object(r.jsx)(_c.a,{children:Cc.map((function(e,t){var c=e.lable;return Object(r.jsx)(Ec.a,{style:Dc,children:c},t)}))})}),Object(r.jsx)(Rc.a,{children:Array.isArray(t)&&t.length>0&&t.map((function(e,t){var n=e.documentID;return Object(r.jsx)(_c.a,{onClick:function(){return c.push("/order/".concat(n))},children:Cc.map((function(t,c){var n=t.id,a=function(e,t){switch(e){case"orderTotal":return"".concat(t,"\u20ac");case"orderCreatedDate":return gc()(t.nano).format("DD/MM/YYYY");default:return t}}(n,e[n]);return Object(r.jsx)(Ec.a,{style:Dc,children:a},c)}))},t)}))})]})})},Ic=(c(134),function(e){var t=e.user,c=e.ordersData;return{currentUser:t.currentUser,orderHistory:c.orderHistory.data}}),Ac=function(e){var t=Object(o.b)(),c=Object(o.c)(Ic),a=c.currentUser,s=c.orderHistory;return Object(n.useEffect)((function(){var e;t((e=a.id,{type:w.GET_USER_ORDER_HISTORY_START,payload:e}))}),[]),Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"Order History"}),Object(r.jsx)(Nc,{orders:s})]})},wc=(c(135),function(e){var t=e.hideModal,c=e.toggleModal,n=e.children;return t?null:[Object(r.jsx)("div",{className:"modalOverlay",onClick:function(){return c()}}),Object(r.jsx)("div",{className:"modalWrap",children:Object(r.jsx)("div",{className:"modal",children:n})})]}),Uc=c(79),Pc=c.n(Uc),kc=(c(136),function(e){return{products:e.productsData.products}}),Lc=function(e){var t=Object(o.c)(kc).products,c=Object(o.b)(),a=Object(n.useState)(!0),s=Object(kt.a)(a,2),i=s[0],u=s[1],l=Object(n.useState)("shoes"),j=Object(kt.a)(l,2),d=j[0],b=j[1],O=Object(n.useState)(""),h=Object(kt.a)(O,2),p=h[0],x=h[1],f=Object(n.useState)(""),v=Object(kt.a)(f,2),S=v[0],T=v[1],E=Object(n.useState)(0),R=Object(kt.a)(E,2),y=R[0],g=R[1],C=Object(n.useState)(""),D=Object(kt.a)(C,2),N=D[0],I=D[1],A=t.data,w=t.queryDoc,U=t.isLastPage;Object(n.useEffect)((function(){c(ye())}),[]);var P=function(){return u(!i)},k={hideModal:i,toggleModal:P},L={onLoadMoreEvt:function(){c(ye({startAfterDoc:w,persistProducts:A}))}};return Object(r.jsxs)("div",{className:"admin",children:[Object(r.jsx)("div",{className:"callToActions",children:Object(r.jsx)("ul",{children:Object(r.jsx)("li",{children:Object(r.jsx)(cc,{onClick:function(){return P()},children:"Add new product"})})})}),Object(r.jsx)(wc,Object(m.a)(Object(m.a)({},k),{},{children:Object(r.jsx)("div",{className:"addNewProductForm",children:Object(r.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c({type:_.ADD_NEW_PRODUCT_START,payload:{productCategory:d,productName:p,productThumbnail:S,productPrice:y,productDesc:N}}),u(!0),b("shoes"),x(""),T(""),g(0),I("")},children:[Object(r.jsx)("h2",{children:"Add new product"}),Object(r.jsx)(nc,{label:"Category",options:[{value:"shoes",name:"Shoes"},{value:"clothing",name:"Clothing"}],handleChange:function(e){return b(e.target.value)}}),Object(r.jsx)(lc,{label:"Name",type:"text",value:p,handleChange:function(e){return x(e.target.value)}}),Object(r.jsx)(lc,{label:"Main image URL",type:"url",value:S,handleChange:function(e){return T(e.target.value)}}),Object(r.jsx)(lc,{label:"Price",type:"number",min:"0.00",max:"10000.00",step:"0.01",value:y,handleChange:function(e){return g(e.target.value)}}),Object(r.jsx)(Pc.a,{onChange:function(e){return I(e.editor.getData())}}),Object(r.jsx)("br",{}),Object(r.jsx)(cc,{type:"submit",children:"Add product"})]})})})),Object(r.jsx)("div",{className:"manageProducts",children:Object(r.jsx)("table",{border:"0",cellPadding:"0",cellSpacing:"0",children:Object(r.jsxs)("tbody",{children:[Object(r.jsx)("tr",{children:Object(r.jsx)("th",{children:Object(r.jsx)("h1",{children:"Manage Products"})})}),Object(r.jsx)("tr",{children:Object(r.jsx)("td",{children:Object(r.jsx)("table",{className:"results",border:"0",cellPadding:"10",cellSpacing:"0",children:Object(r.jsx)("tbody",{children:Array.isArray(A)&&A.length>0&&A.map((function(e,t){var n=e.productName,a=e.productThumbnail,s=e.productPrice,i=e.documentID;return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:Object(r.jsx)("img",{className:"thumb",src:a})}),Object(r.jsx)("td",{children:n}),Object(r.jsxs)("td",{children:[s,"\u20ac"]}),Object(r.jsx)("td",{children:Object(r.jsx)(cc,{onClick:function(){return c({type:_.DELETE_PRODUCT_START,payload:i})},children:"Delete"})})]},t)}))})})})}),Object(r.jsx)("tr",{children:Object(r.jsx)("td",{})}),Object(r.jsx)("tr",{children:Object(r.jsx)("td",{children:Object(r.jsx)("table",{border:"0",cellPadding:"10",cellSpacing:"0",children:Object(r.jsx)("tbody",{children:Object(r.jsx)("tr",{children:Object(r.jsx)("td",{children:!U&&Object(r.jsx)(ac,Object(m.a)({},L))})})})})})})]})})})]})},Gc=(c(137),function(e){return{product:e.productsData.product}}),Mc=function(e){Object(ec.a)(e);var t=Object(o.b)(),c=Object(_t.f)(),a=Object(_t.h)().productID,s=Object(o.c)(Gc).product,i=s.productThumbnail,u=s.productName,l=s.productPrice,j=s.productDesc;Object(n.useEffect)((function(){return t(function(e){return{type:_.FETCH_PRODUCT_START,payload:e}}(a)),function(){t(Ce({}))}}),[]);return Object(r.jsxs)("div",{className:"productCard",children:[Object(r.jsx)("div",{className:"hero",children:Object(r.jsx)("img",{src:i})}),Object(r.jsx)("div",{className:"productDetails",children:Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:Object(r.jsx)("h1",{children:u})}),Object(r.jsx)("li",{children:Object(r.jsxs)("span",{children:[l,"\u20ac"]})}),Object(r.jsx)("li",{children:Object(r.jsx)("div",{className:"addToCart",children:Object(r.jsx)(cc,Object(m.a)(Object(m.a)({},{type:"button"}),{},{onClick:function(){return function(e){e&&(t(et(e)),c.push("/cart"))}(s)},children:"Add to cart"}))})}),Object(r.jsx)("li",{children:Object(r.jsx)("span",{className:"desc",dangerouslySetInnerHTML:{__html:j}})})]})})]})},Hc=function(e){return Object(ec.a)(e),Object(r.jsx)("div",{children:Object(r.jsx)(Mc,{})})},qc=(c(138),function(e){var t=Object(o.b)(),c=e.productName,n=e.productThumbnail,a=e.productPrice,s=e.quantity,i=e.documentID,u=function(e){t({type:y.REMOVE_CART_ITEM,payload:{documentID:e}})},l=function(e){t({type:y.REDUCE_CART_ITEM,payload:e})};return Object(r.jsx)("table",{className:"cartItem",border:"0",cellSpacing:"0",cellPadding:"10",children:Object(r.jsx)("tbody",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:Object(r.jsx)("img",{src:n,alt:c})}),Object(r.jsx)("td",{children:c}),Object(r.jsxs)("td",{children:[Object(r.jsx)("span",{className:"cartBtn",onClick:function(){return l(e)},children:"< "}),Object(r.jsx)("span",{children:s}),Object(r.jsx)("span",{className:"cartBtn",onClick:function(){return function(e){t(et(e))}(e)},children:" >"})]}),Object(r.jsxs)("td",{children:[a,"\u20ac"]}),Object(r.jsx)("td",{align:"center",children:Object(r.jsx)("span",{className:"cartBtn remove",onClick:function(){return u(i)},children:"X"})})]})})})}),Wc=Object(Lt.b)({cartItems:Gt,total:Ht}),Yc=function(e){Object(ec.a)(e);var t=Object(_t.f)(),c=Object(o.c)(Wc),n=c.cartItems,a=c.total;return Object(r.jsxs)("div",{className:"checkout",children:[Object(r.jsx)("h1",{children:"Checkout"}),Object(r.jsx)("div",{className:"cart",children:n.length>0?Object(r.jsx)("table",{border:"0",cellPadding:"0",cellSpacing:"0",children:Object(r.jsxs)("tbody",{children:[Object(r.jsx)("tr",{children:Object(r.jsx)("td",{children:Object(r.jsx)("table",{className:"checkoutHeader",border:"0",cellPadding:"10",cellSpacing:"0",children:Object(r.jsx)("tbody",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"Product"}),Object(r.jsx)("th",{children:"Description"}),Object(r.jsx)("th",{children:"Quantity"}),Object(r.jsx)("th",{children:"Price"}),Object(r.jsx)("th",{children:"Remove"})]})})})})}),Object(r.jsx)("tr",{children:Object(r.jsx)("td",{children:Object(r.jsx)("table",{border:"0",cellSpacing:"0",cellPadding:"0",children:Object(r.jsx)("tbody",{children:n.map((function(e,t){return Object(r.jsx)("tr",{children:Object(r.jsx)("td",{children:Object(r.jsx)(qc,Object(m.a)({},e))})},t)}))})})})}),Object(r.jsx)("tr",{children:Object(r.jsx)("td",{children:Object(r.jsx)("table",{border:"0",cellSpacing:"0",cellPadding:"0",children:Object(r.jsxs)("tbody",{children:[Object(r.jsx)("tr",{children:Object(r.jsx)("td",{children:Object(r.jsx)("table",{border:"0",cellPadding:"10",cellSpacing:"0",children:Object(r.jsx)("tbody",{children:Object(r.jsx)("tr",{children:Object(r.jsx)("td",{children:Object(r.jsxs)("h3",{children:["Total: ",a,"\u20ac"]})})})})})})}),Object(r.jsx)("tr",{children:Object(r.jsx)("td",{children:Object(r.jsx)("table",{border:"0",cellPadding:"10",cellSpacing:"0",children:Object(r.jsx)("tbody",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:Object(r.jsx)(cc,{onClick:function(){return t.goBack()},children:"Continue Shopping"})}),Object(r.jsx)("td",{children:Object(r.jsx)(cc,{onClick:function(){return t.push("/payment")},children:"Checkout"})})]})})})})})]})})})})]})}):Object(r.jsx)("p",{children:"You have no items in your cart."})})]})},Bc=function(e){return Object(ec.a)(e),Object(r.jsx)("div",{children:Object(r.jsx)(Yc,{})})},Fc=c(42),Vc=c(40),zc=c(60),Kc=(c(139),{line1:"",line2:"",city:"",state:"",postal_code:"",country:""}),Jc=Object(Lt.b)({total:Ht,itemCount:Mt,cartItems:Gt}),Qc=function(){var e=Object(Vc.useStripe)(),t=Object(Vc.useElements)(),c=Object(_t.f)(),a=Object(o.c)(Jc),s=a.total,i=a.itemCount,u=a.cartItems,l=Object(o.b)(),j=Object(n.useState)(Object(m.a)({},Kc)),d=Object(kt.a)(j,2),b=d[0],O=d[1],h=Object(n.useState)(Object(m.a)({},Kc)),p=Object(kt.a)(h,2),x=p[0],f=p[1],v=Object(n.useState)(""),S=Object(kt.a)(v,2),T=S[0],_=S[1],E=Object(n.useState)(""),R=Object(kt.a)(E,2),y=R[0],g=R[1],C=Object(n.useState)(""),D=Object(kt.a)(C,2),N=D[0],I=D[1],A=Object(n.useState)(!0),U=Object(kt.a)(A,2),P=U[0],k=U[1],L=Object(n.useState)(null),G=Object(kt.a)(L,2),M=G[0],q=G[1],Y=Object(n.useState)(""),B=Object(kt.a)(Y,2),F=B[0],V=B[1],z=Object(n.useState)(!1),K=Object(kt.a)(z,2),J=K[0],Q=K[1];Object(n.useEffect)((function(){i<1&&c.push("/dashboard")}),[i]);var X=function(e){var t=e.target,c=t.name,r=t.value;f(Object(m.a)(Object(m.a)({},x),{},Object(Fc.a)({},c,r)))},Z=function(e){var t=e.target,c=t.name,r=t.value;O(Object(m.a)(Object(m.a)({},b),{},Object(Fc.a)({},c,r)))},$=function(){var c=Object(W.a)(H.a.mark((function c(r){var n,a;return H.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(r.preventDefault(),n=t.getElement("card"),x.line1&&x.city&&x.state&&x.postal_code&&x.country&&b.line1&&b.city&&b.state&&b.postal_code&&b.country&&T&&y){c.next=4;break}return c.abrupt("return");case 4:return V(!0),c.next=7,Rt.a.post("/api");case 7:a=c.sent,a.data,gt.post("/payments/create",{amount:100*s,shipping:{name:T,address:Object(m.a)({},x)}}).then((function(t){var c=t.data;e.createPaymentMethod({type:"card",card:n,billing_details:{name:y,address:Object(m.a)({},b)}}).then((function(t){var r=t.paymentMethod;e.confirmCardPayment(c,{receipt_email:N,payment_method:r.id}).then((function(e){e.paymentIntent;var t={orderTotal:s,orderItems:u.map((function(e){return{documentID:e.documentID,productThumbnail:e.productThumbnail,productName:e.productName,productPrice:e.productPrice,quantity:e.quantity}}))};q(null),V(!1),Q(!0),l({type:w.SAVE_ORDER_HISTORY_START,payload:t})}))}))}));case 10:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}(),ee=function(){var e=Object(W.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(t.empty),q(t.error?t.error.message:"");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)("div",{className:"paymentDetails",children:Object(r.jsxs)("form",{onSubmit:$,children:[Object(r.jsxs)("div",{className:"group",children:[Object(r.jsx)("h2",{children:"Shipping Address"}),Object(r.jsx)(lc,{required:!0,placeholder:"Recipient Name",name:"recipientName",handleChange:function(e){return _(e.target.value)},value:T,type:"text"}),Object(r.jsx)(lc,{required:!0,placeholder:"Line 1",name:"line1",handleChange:function(e){return X(e)},value:x.line1,type:"text"}),Object(r.jsx)(lc,{placeholder:"Line 2",name:"line2",handleChange:function(e){return X(e)},value:x.line2,type:"text"}),Object(r.jsx)(lc,{required:!0,placeholder:"City",name:"city",handleChange:function(e){return X(e)},value:x.city,type:"text"}),Object(r.jsx)(lc,{required:!0,placeholder:"State",name:"state",handleChange:function(e){return X(e)},value:x.state,type:"text"}),Object(r.jsx)(lc,{required:!0,placeholder:"Postal Code",name:"postal_code",handleChange:function(e){return X(e)},value:x.postal_code,type:"text"}),Object(r.jsx)("div",{className:"formRow checkoutInput",children:Object(r.jsx)(zc.a,{required:!0,onChange:function(e){return X({target:{name:"country",value:e}})},value:x.country,valueType:"short"})})]}),Object(r.jsxs)("div",{className:"group",children:[Object(r.jsx)("h2",{children:"Billing Address"}),Object(r.jsx)(lc,{required:!0,placeholder:"Name on Card",name:"nameOnCard",handleChange:function(e){return g(e.target.value)},value:y,type:"text"}),Object(r.jsx)(lc,{required:!0,placeholder:"Line 1",name:"line1",handleChange:function(e){return Z(e)},value:b.line1,type:"text"}),Object(r.jsx)(lc,{placeholder:"Line 2",name:"line2",handleChange:function(e){return Z(e)},value:b.line2,type:"text"}),Object(r.jsx)(lc,{required:!0,placeholder:"City",name:"city",handleChange:function(e){return Z(e)},value:b.city,type:"text"}),Object(r.jsx)(lc,{required:!0,placeholder:"State",name:"state",handleChange:function(e){return Z(e)},value:b.state,type:"text"}),Object(r.jsx)(lc,{required:!0,placeholder:"Postal Code",name:"postal_code",handleChange:function(e){return Z(e)},value:b.postal_code,type:"text"}),Object(r.jsx)("div",{className:"formRow checkoutInput",children:Object(r.jsx)(zc.a,{required:!0,onChange:function(e){return Z({target:{name:"country",value:e}})},value:b.country,valueType:"short"})})]}),Object(r.jsxs)("div",{className:"group",children:[Object(r.jsx)("h2",{children:"Payment details"}),Object(r.jsx)("input",{className:"email_input",type:"text",value:N,onChange:function(e){return I(e.target.value)},placeholder:"Enter email for receipt"}),Object(r.jsx)(Vc.CardElement,{onChange:ee,options:{iconStyle:"solid",style:{base:{fontSize:"16px"}},hidePostalCode:!0}})]}),Object(r.jsx)("button",{disabled:F||P||J,type:"submit",children:Object(r.jsx)("span",{id:"button-text",children:F?Object(r.jsx)("div",{className:"spinner",id:"spinner"}):"Pay"})}),M&&Object(r.jsx)("div",{className:"card-error",role:"alert",children:M})]})})},Xc=c(80),Zc=Object(Xc.a)("pk_live_51IA9SmLZlxUUbql7s6x7KiHJ0necQBMbUJcPKIEaSlODO7they7lUx0xRlepThB0NL57KkBwNDkYgVjrzPtkFd8N00aCkiuYgH"),$c=function(){return Object(r.jsx)(Vc.Elements,{stripe:Zc,children:Object(r.jsx)(Qc,{})})},er=[{id:"productThumbnail",label:""},{id:"productName",label:"Name"},{id:"productPrice",label:"Price"},{id:"quantity",label:"Quantity"}],tr={fontSize:"16px",width:"10%"},cr=function(e,t){switch(e){case"productPrice":return"".concat(t,"\u20ac");case"productThumbnail":return Object(r.jsx)("img",{src:t,width:250});default:return t}},rr=function(e){var t=e.order,c=Object(o.b)(),a=t&&t.orderItems;return Object(n.useEffect)((function(){return function(){c(ct({}))}}),[]),Object(r.jsx)(vc.a,{children:Object(r.jsxs)(Sc.a,{children:[Object(r.jsx)(Tc.a,{children:Object(r.jsx)(_c.a,{children:er.map((function(e,t){return Object(r.jsx)(Ec.a,{style:tr,children:e.label},t)}))})}),Object(r.jsx)(Rc.a,{children:Array.isArray(a)&&a.length>0&&a.map((function(e,t){return Object(r.jsx)(_c.a,{children:er.map((function(t,c){var n=t.id,a=e[n];return Object(r.jsx)(Ec.a,{style:tr,children:cr(n,a)},c)}))},t)}))})]})})},nr=function(e){return{orderDetails:e.ordersData.orderDetails}},ar=function(){var e=Object(_t.h)().orderID,t=Object(o.b)(),c=Object(o.c)(nr).orderDetails,a=c.orderTotal;return Object(n.useEffect)((function(){t(function(e){return{type:w.GET_ORDER_DETAILS_START,payload:e}}(e))}),[]),Object(r.jsxs)("div",{children:[Object(r.jsxs)("h1",{children:["Order ID: #",e]}),Object(r.jsx)(rr,{order:c}),Object(r.jsxs)("h3",{children:["Total: ",a]})]})},sr=(c(140),function(e){var t=Object(o.b)();return Object(n.useEffect)((function(){t({type:v.CHECK_USER_SESSION})}),[]),Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(Dt,{}),Object(r.jsxs)(_t.c,{children:[Object(r.jsx)(_t.a,{exact:!0,path:"/",render:function(){return Object(r.jsx)(Vt,{children:Object(r.jsx)($t,{})})}}),Object(r.jsx)(_t.a,{exact:!0,path:"/search",render:function(){return Object(r.jsx)(Ft,{children:Object(r.jsx)(uc,{})})}}),Object(r.jsx)(_t.a,{path:"/search/:filterType",render:function(){return Object(r.jsx)(Ft,{children:Object(r.jsx)(uc,{})})}}),Object(r.jsx)(_t.a,{path:"/product/:productID",render:function(){return Object(r.jsx)(Ft,{children:Object(r.jsx)(Hc,{})})}}),Object(r.jsx)(_t.a,{path:"/cart",render:function(){return Object(r.jsx)(Ft,{children:Object(r.jsx)(Bc,{})})}}),Object(r.jsx)(_t.a,{path:"/payment",render:function(){return Object(r.jsx)(Ut,{children:Object(r.jsx)(Ft,{children:Object(r.jsx)($c,{})})})}}),Object(r.jsx)(_t.a,{path:"/registration",render:function(){return Object(r.jsx)(Ft,{children:Object(r.jsx)(bc,{})})}}),Object(r.jsx)(_t.a,{path:"/login",render:function(){return Object(r.jsx)(Ft,{children:Object(r.jsx)(pc,{})})}}),Object(r.jsx)(_t.a,{path:"/recovery",render:function(){return Object(r.jsx)(Ft,{children:Object(r.jsx)(mc,{})})}}),Object(r.jsx)(_t.a,{path:"/dashboard",render:function(){return Object(r.jsx)(Ut,{children:Object(r.jsx)(Xt,{children:Object(r.jsx)(Ac,{})})})}}),Object(r.jsx)(_t.a,{path:"/order/:orderID",render:function(){return Object(r.jsx)(Ut,{children:Object(r.jsx)(Xt,{children:Object(r.jsx)(ar,{})})})}}),Object(r.jsx)(_t.a,{path:"/admin",render:function(){return Object(r.jsx)(Pt,{children:Object(r.jsx)(Qt,{children:Object(r.jsx)(Lc,{})})})}})]})]})});i.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(o.a,{store:St,children:Object(r.jsx)(u.a,{children:Object(r.jsx)(l.a,{persistor:Tt,children:Object(r.jsx)(sr,{})})})})}),document.getElementById("root"))}},[[141,1,2]]]);
//# sourceMappingURL=main.5c82128b.chunk.js.map