{"version":3,"sources":["redux/User/user.types.js","redux/User/user.reducer.js","redux/Products/products.types.js","redux/Products/products.reducer.js","redux/Cart/cart.types.js","redux/Cart/cart.utils.js","redux/Cart/cart.reducer.js","redux/Orders/orders.types.js","redux/Orders/orders.reducer.js","redux/rootReducer.js","firebase/utils.js","firebase/config.js","redux/User/user.actions.js","redux/User/user.helpers.js","redux/User/user.sagas.js","redux/Products/products.actions.js","redux/Products/products.helpers.js","redux/Products/products.sagas.js","redux/Orders/orders.helpers.js","redux/Cart/cart.actions.js","redux/Orders/orders.actions.js","redux/Orders/orders.sagas.js","redux/rootSaga.js","redux/createStore.js","Utils/index.js","components/AdminToolbar/index.js","customHooks/useAuth.js","customHooks/useAdminAuth.js","hoc/withAuth.js","hoc/withAdminAuth.js","redux/Cart/cart.selectors.js","components/Header/index.js","components/Footer/index.js","layouts/MainLayout.js","layouts/HomepageLayout.js","components/UserProfile/index.js","components/VerticalNav/index.js","layouts/AdminLayout.js","layouts/DashboardLayout.js","components/Directory/index.js","pages/Homepage/index.js","components/forms/Button/index.js","components/ProductResults/Product/index.js","components/forms/FormSelect/index.js","components/LoadMore/index.js","components/ProductResults/index.js","pages/Search/index.js","components/AuthWrapper/index.js","components/forms/FormInput/index.js","components/Signup/index.js","pages/Registration/index.js","components/SignIn/index.js","pages/Login/index.js","components/EmailPassword/index.js","pages/Recovery/index.js","components/OrderHistory/index.js","pages/Dashboard/index.js","components/Modal/index.js","pages/Admin/index.js","components/ProductCard/index.js","pages/ProductDetails/index.js","components/Checkout/Item/index.js","components/Checkout/index.js","pages/Cart/index.js","components/PaymentDetails/index.js","pages/Payment/index.js","stripe/config.js","components/OrderDetails/index.js","pages/Order/index.js","App.js","index.js"],"names":["userTypes","EMAIL_SIGN_IN_START","SIGN_IN_SUCCESS","CHECK_USER_SESSION","SIGN_OUT_USER_START","SIGN_OUT_USER_SUCCESS","SIGN_UP_USER_START","RESET_PASSWORD_START","RESET_PASSWORD_SUCCESS","GOOGLE_SIGN_IN_START","USER_ERROR","RESET_USER_STATE","INITIAL_STATE","currentUser","resetPasswordSuccess","userErr","userReducer","state","action","type","payload","productsTypes","ADD_NEW_PRODUCT_START","FETCH_PRODUCTS_START","SET_PRODUCTS","DELETE_PRODUCT_START","FETCH_PRODUCT_START","SET_PRODUCT","products","product","productsReducer","productTypes","cartTypes","ADD_TO_CART","REMOVE_CART_ITEM","REDUCE_CART_ITEM","CLEAR_CART","handleAddToCart","prevCartItems","nextCartItem","find","cartItem","documentID","existingCartItem","map","quantity","handleRemoveCartItem","cartItemToRemove","filter","item","handleReduceCartItem","cartItemToReduce","cartItems","cartReducer","ordersTypes","SAVE_ORDER_HISTORY_START","GET_USER_ORDER_HISTORY_START","SET_USER_ORDER_HISOTRY","GET_ORDER_DETAILS_START","SET_ORDER_DETAILS","orderHistory","orderDetails","ordersReducer","rootReducer","combineReducers","user","productsData","cartData","ordersData","configStorage","key","storage","whitelist","persistReducer","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","firestore","GoogleProvider","GoogleAuthProvider","setCustomParameters","prompt","handleUserProfile","a","userAuth","additionalData","uid","userRef","doc","get","exists","displayName","email","timestamp","Date","userRoles","set","createdDate","console","log","signInSuccess","signOutUserStart","userError","err","handleResetPasswordAPI","config","url","Promise","resolve","reject","sendPasswordResetEmail","then","catch","getSnapshotFromUserAuth","emailSignIn","onEmailSignInStart","isUserAuthenticated","onCheckUserSession","signOutUser","onSignOutUserStart","signUpUser","onSignUpUserStart","resetPassword","onResetPasswordStart","googleSignIn","onGoogleSignInStart","userSagas","call","snapshot","put","id","data","password","signInWithEmailAndPassword","takeLatest","unsubscribe","onAuthStateChanged","signOut","confirmPassword","createUserWithEmailAndPassword","signInWithPopup","all","fetchProductsStart","filters","setProducts","setProduct","handleAddProduct","collection","handleFetchProducts","filterType","startAfterDoc","persistProducts","ref","orderBy","limit","where","startAfter","totalCount","size","docs","queryDoc","isLastPage","handleDeleteProduct","delete","handleFetchProduct","productID","addProduct","onAddProductStart","fetchProducts","onFetchProductsStart","deleteProduct","onDeleteProductStart","fetchProduct","onFetchProductStart","productsSagas","productAdminUserUID","handleSaveOrder","order","handleGetUserOrderHistory","snap","handleGetOrder","orderID","setUserOrderHistory","history","setOrderDetails","getUserOrderHistory","onGetUserOrderHistoryStart","saveOrder","onSaveOrderHistoryStart","getOrderDetails","onGetOrderDetailsStart","ordersSagas","timestamps","orderUserID","orderCreatedDate","rootSaga","sagaMiddleware","createSagaMiddle","middlewares","thunk","logger","store","createStore","applyMiddleware","run","persistor","persistStore","checkUserIsAdmin","Array","isArray","includes","apiInstance","axios","create","baseURL","mapState","AdminToolbar","props","useSelector","className","to","useAuth","useHistory","useEffect","push","useAdminAuth","WithAuth","children","WithAdminAuth","selectCartItems","createSelector","selectCartItemsCount","reduce","selectCartTotal","productPrice","totalNumCartItems","Header","location","useLocation","useState","activeMenu","setActiveMenu","dispatch","useDispatch","class","onClick","defaultProps","Footer","MainLayout","HomepageLayout","UserProfile","src","VerticalNav","configUserProfile","AdminLayout","DashBoardLayout","Directory","style","backgroundImage","Homepage","Button","otherProps","Product","productThumbnail","productName","alt","FormSelect","options","defaultValue","handleChange","label","length","value","onChange","option","index","name","LoadMore","onLoadMoreEvt","ProductResults","useParams","configFilters","e","nextFilter","target","configLoadMore","pos","configProduct","Search","AuthWrapper","headline","FormInput","Signup","setDisplayName","setEmail","setPassword","setConfirmPassword","errors","setErrors","reset","onSubmit","event","preventDefault","placeholder","Registration","SignIn","resetForm","Login","EmailPassword","Recovery","columns","lable","styles","fontSize","cursor","width","OrderHistory","orders","TableContainer","Table","TableHead","TableRow","column","TableCell","TableBody","row","columnName","formattedText","columnValue","moment","nano","format","formatText","Dashboard","Modal","hideModal","toggleModal","Admin","setHideModal","productCategory","setProductCategory","setProductName","setProductThumbnail","setProductPrice","productDesc","setProductDesc","configModal","min","max","step","evt","editor","getData","border","cellPadding","cellSpacing","ProductCard","fetchProductStart","dangerouslySetInnerHTML","__html","ProductDetails","Item","handleReduceItem","align","createStructuredSelector","total","Checkout","goBack","Cart","initialAddressState","line1","line2","city","postal_code","country","itemCount","PaymentDetails","stripe","useStripe","elements","useElements","billingAddress","setBillingAddress","shippingAddress","setShippingAddress","recipientName","setRecipientName","nameOnCard","setNameOnCard","disabled","setDisabled","error","setError","processing","setProcessing","succeeded","setSucceeded","handleShipping","handleBilling","handleFormSubmit","cardElement","getElement","post","amount","shipping","address","clientSecret","createPaymentMethod","card","billing_details","paymentMethod","confirmCardPayment","receipt_email","payment_method","paymentIntent","configOrder","orderTotal","orderItems","empty","message","required","val","valueType","iconStyle","base","hidePostalCode","role","stripePromise","loadStripe","Payment","OrderDetails","col","Order","getOrderDetailsStart","App","exact","path","render","DashboardLayout","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5c82128b.chunk.js","sourcesContent":["const userTypes = {\n  EMAIL_SIGN_IN_START: 'EMAIL_SIGN_IN_START',\n  SIGN_IN_SUCCESS: 'SIGN_IN_SUCCESS',\n  CHECK_USER_SESSION: 'CHECK_USER_SESSION',\n  SIGN_OUT_USER_START: 'SIGN_OUT_USER_START',\n  SIGN_OUT_USER_SUCCESS: 'SIGN_OUT_USER_SUCCESS',\n  SIGN_UP_USER_START: 'SIGN_UP_USER_START',\n  RESET_PASSWORD_START: 'RESET_PASSWORD_START',\n  RESET_PASSWORD_SUCCESS: 'RESET_PASSWORD_SUCCESS',\n  GOOGLE_SIGN_IN_START: 'GOOGLE_SIGN_IN_START',\n  USER_ERROR: 'USER_ERROR',\n  RESET_USER_STATE: 'RESET_USER_STATE'\n};\n\nexport default userTypes;","import userTypes from './user.types';\n\nconst INITIAL_STATE = {\n  currentUser: null,\n  resetPasswordSuccess: false,\n  userErr: []\n};\n\nconst userReducer = (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case userTypes.SIGN_IN_SUCCESS:\n      return {\n        ...state,\n        currentUser: action.payload,\n        userErr: []\n      }\n    case userTypes.RESET_PASSWORD_SUCCESS:\n      return {\n        ...state,\n        resetPasswordSuccess: action.payload\n      }\n    case userTypes.USER_ERROR:\n      return {\n        ...state,\n        userErr: action.payload\n      }\n    case userTypes.RESET_USER_STATE:\n    case userTypes.SIGN_OUT_USER_SUCCESS:\n      return {\n        ...state,\n        ...INITIAL_STATE\n      }\n    default:\n      return state;\n  }\n};\n\nexport default userReducer;","const productsTypes = {\n  ADD_NEW_PRODUCT_START: 'ADD_NEW_PRODUCT_START',\n  FETCH_PRODUCTS_START: 'FETCH_PRODUCTS_START',\n  SET_PRODUCTS: 'SET_PRODUCTS',\n  DELETE_PRODUCT_START: 'DELETE_PRODUCT_START',\n  FETCH_PRODUCT_START: 'FETCH_PRODUCT_START',\n  SET_PRODUCT: 'SET_PRODUCT',\n};\n\nexport default productsTypes;","import productsTypes from './products.types';\nimport productTypes from './products.types';\n\nconst INITIAL_STATE = {\n  products: [],\n  product: {},\n};\n\nconst productsReducer = (state=INITIAL_STATE, action) => {\n  switch(action.type) {\n    case productTypes.SET_PRODUCTS:\n      return {\n        ...state,\n        products: action.payload\n      }\n    case productsTypes.SET_PRODUCT:\n      return {\n        ...state,\n        product: action.payload\n      }\n    default:\n      return state;\n  }\n};\n\nexport default productsReducer;","const cartTypes = {\n  ADD_TO_CART: 'ADD_TO_CART',\n  REMOVE_CART_ITEM: 'REMOVE_CART_ITEM',\n  REDUCE_CART_ITEM: 'REDUCE_CART_ITEM',\n  CLEAR_CART: 'CLEAR_CART'\n};\n\nexport default cartTypes;","export const existingCartItem = ({\n  prevCartItems,\n  nextCartItem\n}) => {\n  return prevCartItems.find(\n    cartItem => cartItem.documentID === nextCartItem.documentID\n  );\n};\n\nexport const handleAddToCart = ({\n  prevCartItems,\n  nextCartItem\n}) => {\n  const quantityIncrement = 1;\n  const cartItemExists = existingCartItem({ prevCartItems, nextCartItem });\n\n  if (cartItemExists) {\n    return prevCartItems.map(cartItem =>\n      cartItem.documentID === nextCartItem.documentID\n        ? {\n          ...cartItem,\n          quantity: cartItem.quantity + quantityIncrement\n        } : cartItem\n    );\n  }\n\n  return [\n    ...prevCartItems,\n    {\n      ...nextCartItem,\n      quantity: quantityIncrement\n    }\n  ];\n};\n\nexport const handleRemoveCartItem = ({\n  prevCartItems,\n  cartItemToRemove\n}) => {\n  return prevCartItems.filter(item => item.documentID !== cartItemToRemove.documentID);\n}\n\nexport const handleReduceCartItem = ({\n  prevCartItems,\n  cartItemToReduce\n}) => {\n  const existingCartItem = prevCartItems.find(cartItem =>\n    cartItem.documentID === cartItemToReduce.documentID);\n\n  if (existingCartItem.quantity === 1) {\n    return prevCartItems.filter(\n      cartItem => cartItem.documentID !== existingCartItem.documentID\n    );\n  }\n\n  return prevCartItems.map(cartItem =>\n    cartItem.documentID === existingCartItem.documentID ?\n    {\n      ...cartItem,\n      quantity: cartItem.quantity - 1\n    } : cartItem)\n};","import cartTypes from './cart.types';\nimport { handleAddToCart, handleRemoveCartItem,\n  handleReduceCartItem } from './cart.utils';\n\nconst INITIAL_STATE = {\n  cartItems: []\n};\n\nconst cartReducer = (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case cartTypes.ADD_TO_CART:\n      return {\n        ...state,\n        cartItems: handleAddToCart({\n          prevCartItems: state.cartItems,\n          nextCartItem: action.payload\n        })\n      };\n    case cartTypes.REDUCE_CART_ITEM:\n      return {\n        ...state,\n        cartItems: handleReduceCartItem({\n          prevCartItems: state.cartItems,\n          cartItemToReduce: action.payload\n        })\n      };\n    case cartTypes.REMOVE_CART_ITEM:\n      return {\n        ...state,\n        cartItems: handleRemoveCartItem({\n          prevCartItems: state.cartItems,\n          cartItemToRemove: action.payload\n        })\n      };\n    case cartTypes.CLEAR_CART:\n      return {\n        ...state,\n        ...INITIAL_STATE\n      }\n    default:\n      return state;\n  }\n};\n\nexport default cartReducer;","const ordersTypes = {\n  SAVE_ORDER_HISTORY_START: 'SAVE_ORDER_HISTORY_START',\n  GET_USER_ORDER_HISTORY_START: 'GET_USER_ORDER_HISTORY_START',\n  SET_USER_ORDER_HISOTRY: 'SET_USER_ORDER_HISOTRY',\n  GET_ORDER_DETAILS_START: 'GET_ORDER_DETAILS_START',\n  SET_ORDER_DETAILS: 'SET_ORDER_DETAILS'\n};\n\nexport default ordersTypes;","import ordersTypes from './orders.types';\n\nconst INITIAL_STATE = {\n  orderHistory: [],\n  orderDetails: {},\n};\n\nconst ordersReducer = (state=INITIAL_STATE, action) => {\n  switch(action.type) {\n    case ordersTypes.SET_USER_ORDER_HISOTRY:\n      return {\n        ...state,\n        orderHistory: action.payload\n      };\n    case ordersTypes.SET_ORDER_DETAILS:\n      return {\n        ...state,\n        orderDetails: action.payload\n      };\n    default:\n      return state;\n  }\n};\n\nexport default ordersReducer;\n","import { combineReducers } from 'redux';\nimport { persistReducer } from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\n\nimport userReducer from './User/user.reducer';\nimport productsReducer from './Products/products.reducer';\nimport cartReducer from './Cart/cart.reducer';\nimport ordersReducer from './Orders/orders.reducer';\n\nexport const rootReducer = combineReducers({\n  user: userReducer,\n  productsData: productsReducer,\n  cartData: cartReducer,\n  ordersData: ordersReducer,\n});\n\nconst configStorage = {\n  key: 'root',\n  storage,\n  whitelist: ['cartData']\n};\n\nexport default persistReducer(configStorage, rootReducer);\n","import firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\nimport { firebaseConfig } from './config';\n\nfirebase.initializeApp(firebaseConfig);\n\nexport const auth = firebase.auth();\nexport const firestore = firebase.firestore();\n\nexport const GoogleProvider = new firebase.auth.GoogleAuthProvider();\nGoogleProvider.setCustomParameters({ prompt: 'select_account' });\n\nexport const handleUserProfile = async ({ userAuth, additionalData }) => {\n  if (!userAuth) return;\n  const { uid } = userAuth;\n\n  const userRef = firestore.doc(`users/${uid}`);\n  const snapshot = await userRef.get();\n\n  if (!snapshot.exists) {\n    const { displayName, email } = userAuth;\n    const timestamp = new Date();\n    const userRoles = ['user'];\n\n    try {\n      await userRef.set({\n        displayName,\n        email,\n        createdDate: timestamp,\n        userRoles,\n        ...additionalData\n      });\n    } catch(err) {\n      console.log(err);\n    }\n  }\n\n  return userRef;\n};\n\nexport const getCurrentUser = () => {\n  return new Promise((resolve, reject) => {\n    const unsubscribe = auth.onAuthStateChanged(userAuth => {\n      unsubscribe();\n      resolve(userAuth);\n    }, reject);\n  })\n}","export const firebaseConfig = \r\n{\r\n    apiKey: \"AIzaSyA4q2iXN4mC98wDVqt-St6FoHNzC_ymM2c\",\r\n    authDomain: \"the-greek-plug-c0f5c.firebaseapp.com\",\r\n    projectId: \"the-greek-plug-c0f5c\",\r\n    storageBucket: \"the-greek-plug-c0f5c.appspot.com\",\r\n    messagingSenderId: \"231544854271\",\r\n    appId: \"1:231544854271:web:16c55daf8a2709d94c1eca\",\r\n};","import userTypes from './user.types';\n\nexport const emailSignInStart = userCredentials => ({\n  type: userTypes.EMAIL_SIGN_IN_START,\n  payload: userCredentials\n});\n\nexport const signInSuccess = user => ({\n  type: userTypes.SIGN_IN_SUCCESS,\n  payload: user\n});\n\nexport const checkUserSession = () => ({\n  type: userTypes.CHECK_USER_SESSION\n});\n\nexport const signOutUserStart = () => ({\n  type: userTypes.SIGN_OUT_USER_START\n});\n\nexport const signOutUserSuccess = () => ({\n  type: userTypes.SIGN_OUT_USER_SUCCESS\n});\n\nexport const signUpUserStart = userCredentials => ({\n  type: userTypes.SIGN_UP_USER_START,\n  payload: userCredentials\n});\n\nexport const userError = err => ({\n  type: userTypes.USER_ERROR,\n  payload: err\n});\n\nexport const resetPasswordStart = userCredentials => ({\n  type: userTypes.RESET_PASSWORD_START,\n  payload: userCredentials\n});\n\nexport const resetPasswordSuccess = () => ({\n  type: userTypes.RESET_PASSWORD_SUCCESS,\n  payload: true\n});\n\nexport const resetUserState = () => ({\n  type: userTypes.RESET_USER_STATE\n});\n\nexport const googleSignInStart = () => ({\n  type: userTypes.GOOGLE_SIGN_IN_START\n});\n","import { auth } from './../../firebase/utils';\n\nexport const handleResetPasswordAPI = (email) => {\n  const config = {\n    url: 'https://thegreekplug.shop/login'\n  };\n\n  return new Promise((resolve, reject) => {\n    auth.sendPasswordResetEmail(email, config)\n      .then(() => {\n        resolve();\n      })\n      .catch(() => {\n        const err = ['Email not found. Please try again.'];\n        reject(err);\n      });\n  });\n};","import { takeLatest, call, all, put } from 'redux-saga/effects';\nimport { auth, handleUserProfile, getCurrentUser, GoogleProvider } from './../../firebase/utils';\nimport userTypes from './user.types';\nimport { signInSuccess, signOutUserSuccess, resetPasswordSuccess, userError } from './user.actions';\nimport { handleResetPasswordAPI } from './user.helpers';\n\nexport function* getSnapshotFromUserAuth(user, additionalData = {}) {\n  try {\n    const userRef = yield call(handleUserProfile, { userAuth: user, additionalData });\n    const snapshot = yield userRef.get();\n    yield put(\n      signInSuccess({\n        id: snapshot.id,\n        ...snapshot.data()\n      })\n    );\n\n  } catch (err) {\n    console.log(err);\n  }\n}\n\nexport function* emailSignIn({ payload: { email, password } }) {\n  try {\n    const { user } = yield auth.signInWithEmailAndPassword(email, password);\n    yield getSnapshotFromUserAuth(user);\n\n  } catch (err) {\n    console.log(err);\n  }\n}\n\nexport function* onEmailSignInStart() {\n  yield takeLatest(userTypes.EMAIL_SIGN_IN_START, emailSignIn);\n}\n\nexport function* isUserAuthenticated() {\n  try {\n    const userAuth = yield getCurrentUser();\n    if (!userAuth) return;\n    yield getSnapshotFromUserAuth(userAuth);\n\n  } catch (err) {\n    console.log(err);\n  }\n}\n\nexport function* onCheckUserSession() {\n  yield takeLatest(userTypes.CHECK_USER_SESSION, isUserAuthenticated);\n}\n\nexport function* signOutUser() {\n  try {\n    yield auth.signOut();\n    yield put(\n      signOutUserSuccess()\n    )\n\n  } catch (err) {\n    console.log(err);\n  }\n}\n\nexport function* onSignOutUserStart() {\n  yield takeLatest(userTypes.SIGN_OUT_USER_START, signOutUser);\n}\n\nexport function* signUpUser({ payload: {\n  displayName,\n  email,\n  password,\n  confirmPassword\n} }) {\n\n  if (password !== confirmPassword) {\n    const err = ['Password Don\\'t match'];\n    yield put(\n      userError(err)\n    );\n    return;\n  }\n\n  try {\n    const { user } = yield auth.createUserWithEmailAndPassword(email, password);\n    const additionalData = { displayName };\n    yield getSnapshotFromUserAuth(user, additionalData);\n\n  } catch (err) {\n    console.log(err);\n  }\n\n}\n\nexport function* onSignUpUserStart() {\n  yield takeLatest(userTypes.SIGN_UP_USER_START, signUpUser);\n}\n\nexport function* resetPassword({ payload: { email }}) {\n  try {\n    yield call(handleResetPasswordAPI, email);\n    yield put(\n      resetPasswordSuccess()\n    );\n\n  } catch (err) {\n    yield put(\n      userError(err)\n    )\n  }\n}\n\nexport function* onResetPasswordStart() {\n  yield takeLatest(userTypes.RESET_PASSWORD_START, resetPassword);\n}\n\nexport function* googleSignIn() {\n  try {\n    const { user } = yield auth.signInWithPopup(GoogleProvider);\n    yield getSnapshotFromUserAuth(user);\n\n  } catch (err) {\n    console.log(err);\n  }\n}\n\nexport function* onGoogleSignInStart() {\n  yield takeLatest(userTypes.GOOGLE_SIGN_IN_START, googleSignIn);\n}\n\n\nexport default function* userSagas() {\n  yield all([\n    call(onEmailSignInStart),\n    call(onCheckUserSession),\n    call(onSignOutUserStart),\n    call(onSignUpUserStart),\n    call(onResetPasswordStart),\n    call(onGoogleSignInStart),\n  ])\n}","import productsTypes from './products.types';\n\nexport const addProductStart = productData => ({\n  type: productsTypes.ADD_NEW_PRODUCT_START,\n  payload: productData\n});\n\nexport const fetchProductsStart = (filters={}) => ({\n  type: productsTypes.FETCH_PRODUCTS_START,\n  payload: filters\n});\n\nexport const setProducts = products => ({\n  type: productsTypes.SET_PRODUCTS,\n  payload: products\n});\n\nexport const deleteProductStart = productID => ({\n  type: productsTypes.DELETE_PRODUCT_START,\n  payload: productID\n});\n\nexport const fetchProductStart = productID => ({\n  type: productsTypes.FETCH_PRODUCT_START,\n  payload: productID\n});\n\nexport const setProduct = product => ({\n  type: productsTypes.SET_PRODUCT,\n  payload: product\n});","import { firestore } from './../../firebase/utils';\n\nexport const handleAddProduct = product => {\n  return new Promise((resolve, reject) => {\n    firestore\n      .collection('products')\n      .doc()\n      .set(product)\n      .then(() => {\n        resolve();\n      })\n      .catch(err => {\n        reject(err);\n      })\n  });\n}\n\nexport const handleFetchProducts = ({ filterType, startAfterDoc, persistProducts=[] }) => {\n  return new Promise((resolve, reject) => {\n    const pageSize = 6;\n\n    let ref = firestore.collection('products').orderBy('createdDate').limit(pageSize);\n\n    if (filterType) ref = ref.where('productCategory', '==', filterType);\n    if (startAfterDoc) ref = ref.startAfter(startAfterDoc);\n\n    ref\n      .get()\n      .then(snapshot => {\n        const totalCount = snapshot.size;\n\n        const data = [\n          ...persistProducts,\n          ...snapshot.docs.map(doc => {\n            return {\n              ...doc.data(),\n              documentID: doc.id\n            }\n          })\n        ];\n\n        resolve({\n          data,\n          queryDoc: snapshot.docs[totalCount - 1],\n          isLastPage: totalCount < 1\n        });\n      })\n      .catch(err => {\n        reject(err);\n      })\n  })\n}\n\nexport const handleDeleteProduct = documentID => {\n  return new Promise((resolve, reject) => {\n    firestore\n      .collection('products')\n      .doc(documentID)\n      .delete()\n      .then(() => {\n        resolve();\n      })\n      .catch(err => {\n        reject(err);\n      })\n  });\n}\n\nexport const handleFetchProduct = (productID) => {\n  return new Promise((resolve, reject) => {\n    firestore\n      .collection('products')\n      .doc(productID)\n      .get()\n      .then(snapshot => {\n\n        if (snapshot.exists) {\n          resolve({\n            ...snapshot.data(),\n            documentID: productID\n          });\n        }\n      })\n      .catch(err => {\n        reject(err);\n      })\n  })\n}","import { auth } from './../../firebase/utils';\nimport { takeLatest, put, all, call } from 'redux-saga/effects';\nimport { setProducts, setProduct, fetchProductsStart } from './products.actions';\nimport { handleAddProduct, handleFetchProducts,\n  handleFetchProduct, handleDeleteProduct } from './products.helpers';\nimport productsTypes from './products.types';\n\nexport function* addProduct({ payload }) {\n\n  try {\n    const timestamp = new Date();\n    yield handleAddProduct({\n      ...payload,\n      productAdminUserUID: auth.currentUser.uid,\n      createdDate: timestamp\n    });\n    yield put(\n      fetchProductsStart()\n    );\n\n\n  } catch (err) {\n    console.log(err);\n  }\n\n}\n\nexport function* onAddProductStart() {\n  yield takeLatest(productsTypes.ADD_NEW_PRODUCT_START, addProduct);\n}\n\nexport function* fetchProducts({ payload }) {\n  try {\n    const products = yield handleFetchProducts(payload);\n    yield put(\n      setProducts(products)\n    );\n\n  } catch (err) {\n    console.log(err);\n  }\n}\n\nexport function* onFetchProductsStart() {\n  yield takeLatest(productsTypes.FETCH_PRODUCTS_START, fetchProducts);\n}\n\nexport function* deleteProduct({ payload }) {\n  try {\n    yield handleDeleteProduct(payload);\n    yield put (\n      fetchProductsStart()\n    );\n\n  } catch (err) {\n    console.log(err);\n  }\n}\n\nexport function* onDeleteProductStart() {\n  yield takeLatest(productsTypes.DELETE_PRODUCT_START, deleteProduct);\n}\n\nexport function* fetchProduct({ payload }) {\n  try {\n    const product = yield handleFetchProduct(payload);\n    yield put(\n      setProduct(product)\n    );\n\n  } catch (err) {\n    console.log(err);\n  }\n}\n\nexport function* onFetchProductStart() {\n  yield takeLatest(productsTypes.FETCH_PRODUCT_START, fetchProduct);\n}\n\nexport default function* productsSagas() {\n  yield all([\n    call(onAddProductStart),\n    call(onFetchProductsStart),\n    call(onDeleteProductStart),\n    call(onFetchProductStart),\n  ])\n}","import { firestore } from './../../firebase/utils';\n\nexport const handleSaveOrder = order => {\n  return new Promise((resolve, reject) => {\n    firestore\n      .collection('orders')\n      .doc()\n      .set(order)\n      .then(() => {\n        resolve();\n      })\n      .catch(err => {\n        reject(err);\n      });\n  });\n};\n\nexport const handleGetUserOrderHistory = uid => {\n  return new Promise((resolve, reject) => {\n    let ref = firestore.collection('orders').orderBy('orderCreatedDate');\n    ref = ref.where('orderUserID', '==', uid);\n\n    ref\n      .get()\n      .then(snap => {\n        const data = [\n          ...snap.docs.map(doc => {\n            return {\n              ...doc.data(),\n              documentID: doc.id\n            }\n          })\n        ];\n\n        resolve({ data });\n      })\n      .catch(err => {\n        reject(err);\n      });\n\n\n  });\n};\n\nexport const handleGetOrder = orderID => {\n  return new Promise((resolve, reject) => {\n    firestore\n      .collection('orders')\n      .doc(orderID)\n      .get()\n      .then(snap => {\n        if (snap.exists) {\n          resolve({\n            ...snap.data(),\n            documentID: orderID\n          })\n        }\n      })\n      .catch(err => {\n        reject(err);\n      })\n  })\n}\n","import cartTypes from './cart.types';\n\nexport const addProduct = (nextCartItem) => ({\n  type: cartTypes.ADD_TO_CART,\n  payload: nextCartItem\n});\n\nexport const removeCartItem = (cartItem) => ({\n  type: cartTypes.REMOVE_CART_ITEM,\n  payload: cartItem\n});\n\nexport const reduceCartItem = (cartItem) => ({\n  type: cartTypes.REDUCE_CART_ITEM,\n  payload: cartItem\n});\n\nexport const clearCart = () => ({\n  type: cartTypes.CLEAR_CART\n})","import ordersTypes from './orders.types';\n\nexport const saveOrderHistory = order => ({\n  type: ordersTypes.SAVE_ORDER_HISTORY_START,\n  payload: order\n});\n\nexport const getUserOrderHistory = uid => ({\n  type: ordersTypes.GET_USER_ORDER_HISTORY_START,\n  payload: uid\n});\n\nexport const setUserOrderHistory = history => ({\n  type: ordersTypes.SET_USER_ORDER_HISOTRY,\n  payload: history\n});\n\nexport const getOrderDetailsStart = orderID => ({\n  type: ordersTypes.GET_ORDER_DETAILS_START,\n  payload: orderID\n});\n\nexport const setOrderDetails = order => ({\n  type: ordersTypes.SET_ORDER_DETAILS,\n  payload: order\n});","import ordersTypes from './orders.types';\nimport { takeLatest, put, all, call } from 'redux-saga/effects';\nimport { handleSaveOrder, handleGetUserOrderHistory,\n  handleGetOrder } from './orders.helpers';\nimport { auth } from './../../firebase/utils';\nimport { clearCart } from './../Cart/cart.actions';\nimport { setUserOrderHistory, setOrderDetails } from './orders.actions';\n\nexport function* getUserOrderHistory({ payload }) {\n  try {\n    const history = yield handleGetUserOrderHistory(payload);\n    yield put(\n      setUserOrderHistory(history)\n    );\n\n  } catch (err) {\n    console.log(err);\n  }\n}\n\nexport function* onGetUserOrderHistoryStart() {\n  yield takeLatest(ordersTypes.GET_USER_ORDER_HISTORY_START, getUserOrderHistory);\n};\n\nexport function* saveOrder({ payload }) {\n  try {\n    const timestamps = new Date();\n    yield handleSaveOrder({\n      ...payload,\n      orderUserID: auth.currentUser.uid,\n      orderCreatedDate: timestamps\n    });\n    yield put(\n      clearCart()\n    )\n\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nexport function* onSaveOrderHistoryStart() {\n  yield takeLatest(ordersTypes.SAVE_ORDER_HISTORY_START, saveOrder);\n};\n\nexport function* getOrderDetails({ payload }) {\n  try {\n    const order = yield handleGetOrder(payload);\n    console.log(order)\n    yield put(\n      setOrderDetails(order)\n    )\n\n  } catch (err) {\n    console.log(err);\n  }\n}\n\nexport function* onGetOrderDetailsStart() {\n  yield takeLatest(ordersTypes.GET_ORDER_DETAILS_START, getOrderDetails);\n};\n\nexport default function* ordersSagas() {\n  yield all([\n    call(onSaveOrderHistoryStart),\n    call(onGetUserOrderHistoryStart),\n    call(onGetOrderDetailsStart),\n  ])\n}\n","import { all, call } from 'redux-saga/effects';\n\nimport userSagas from './User/user.sagas';\nimport productsSagas from './Products/products.sagas';\nimport ordersSagas from './Orders/orders.sagas';\n\nexport default function* rootSaga() {\n  yield all([\n    call(userSagas),\n    call(productsSagas),\n    call(ordersSagas),\n  ])\n}","import { createStore, applyMiddleware } from 'redux';\nimport logger from 'redux-logger';\nimport thunk from 'redux-thunk';\nimport createSagaMiddle from 'redux-saga';\nimport { persistStore } from 'redux-persist';\n\nimport rootReducer from './rootReducer';\nimport rootSaga from './rootSaga';\n\nconst sagaMiddleware = createSagaMiddle();\nexport const middlewares = [thunk, sagaMiddleware, logger];\n\nexport const store = createStore(rootReducer, applyMiddleware(...middlewares));\nsagaMiddleware.run(rootSaga);\n\nexport const persistor = persistStore(store);\n\nexport default {\n  store,\n  persistor\n};\n","import axios from 'axios';\r\n\r\nexport const checkUserIsAdmin = currentUser => {\r\n    if (!currentUser || !Array.isArray(currentUser.userRoles)) return false;\r\n    const { userRoles } = currentUser;\r\n    if (userRoles.includes('admin')) return true;\r\n    return false;\r\n}\r\n\r\nexport const apiInstance = axios.create({\r\n    baseURL: 'https://us-central1-the-greek-plug-c0f5c.cloudfunctions.net/api'\r\n});\r\n\r\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { checkUserIsAdmin } from './../../Utils';\nimport './styles.scss';\n\nconst mapState = ({ user }) => ({\n  currentUser: user.currentUser\n})\n\nconst AdminToolbar = props => {\n  const { currentUser } = useSelector(mapState);\n\n  const isAdmin = checkUserIsAdmin(currentUser);\n  if (!isAdmin) return null;\n\n  return (\n    <div className=\"adminToolbar\">\n      <ul>\n        <li>\n          <Link to=\"/admin\">\n            My admin\n          </Link>\n        </li>\n      </ul>\n    </div>\n  );\n}\n\nexport default AdminToolbar;","import { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\n\nconst mapState = ({ user }) => ({\n  currentUser: user.currentUser\n});\n\nconst useAuth = props => {\n  const { currentUser } = useSelector(mapState);\n  const history = useHistory();\n\n  useEffect(() => {\n    if (!currentUser) {\n      history.push('/login');\n    }\n\n  }, [currentUser]);\n\n  return currentUser;\n};\n\nexport default useAuth;","import { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { checkUserIsAdmin } from './../Utils';\n\nconst mapState = ({ user }) => ({\n  currentUser: user.currentUser\n});\n\nconst useAdminAuth = props => {\n  const { currentUser } = useSelector(mapState);\n  const history = useHistory();\n\n  useEffect(() => {\n    if (!checkUserIsAdmin(currentUser)) {\n      history.push('/login');\n    }\n\n  }, [currentUser]);\n\n  return currentUser;\n}\n\nexport default useAdminAuth;","\nimport { useAuth } from './../customHooks';\n\nconst WithAuth = props => useAuth(props) && props.children;\n\nexport default WithAuth;","import { useAdminAuth } from './../customHooks';\n\nconst WithAdminAuth = props => useAdminAuth(props) && props.children;\n\nexport default WithAdminAuth;","import { createSelector } from 'reselect';\n\nexport const selectCartData = state => state.cartData;\n\nexport const selectCartItems = createSelector(\n  [selectCartData],\n  cartData => cartData.cartItems\n);\n\nexport const selectCartItemsCount = createSelector(\n  [selectCartItems],\n  cartItems =>\n    cartItems.reduce(\n      (quantity, cartItem) =>\n        quantity + cartItem.quantity\n      , 0)\n);\n\nexport const selectCartTotal = createSelector(\n  [selectCartItems],\n  cartItems =>\n    cartItems.reduce(\n      (quantity, cartItem) =>\n        quantity + cartItem.quantity * cartItem.productPrice,\n    0)\n);","import React, { useState, useEffect } from 'react';\nimport { Link, useLocation  } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { signOutUserStart } from './../../redux/User/user.actions';\nimport { selectCartItemsCount } from './../../redux/Cart/cart.selectors';\nimport './styles.scss';\n\nconst mapState = (state) => ({\n  currentUser: state.user.currentUser,\n  totalNumCartItems: selectCartItemsCount(state)\n});\n\nconst Header = props => {\n  const location = useLocation();\n  const [activeMenu, setActiveMenu] = useState(false);\n  const dispatch = useDispatch();\n  const { currentUser, totalNumCartItems } = useSelector(mapState);\n\n  const signOut = () => {\n    dispatch(signOutUserStart());\n  };\n\n  useEffect(() => {\n    setActiveMenu(false);\n  }, [location]);\n\n  return (\n    <header className=\"header\">\n      <div className=\"wrap\">\n        <div className=\"logo\">\n          <Link to=\"/\">\n            <span className=\"logo-text\">The Greek Plug</span>\n          </Link>\n        </div>\n\n        <nav className={`mainMenu ${activeMenu ? 'active' : ''}`}>\n          <ul>\n            <li>\n              <Link to=\"/\">\n                Home\n              </Link>\n            </li>\n            <li>\n              <Link to=\"/search\">\n                Search\n              </Link>\n            </li>\n          </ul>\n        </nav>\n\n        <div className=\"callToActions\">\n\n          <ul>\n\n            <li>\n              <Link to=\"/cart\">\n                Your Cart ({totalNumCartItems})\n                <i class=\"fas fa-shopping-basket\"></i>\n              </Link>\n            </li>\n\n            {currentUser && [\n              <li key={1}>\n                <Link to=\"/dashboard\">\n                  My Account\n                  <i class=\"fas fa-user-circle\"></i>\n                </Link>\n              </li>,\n              <li key={2}>\n                <span onClick={() => signOut()}>\n                  LogOut\n                  <i class=\"fas fa-sign-out-alt\"></i>\n                </span>\n              </li>\n            ]}\n\n            {!currentUser && [\n              <li key={1} className=\"hideOnMobile\">\n                <Link to=\"/registration\">\n                  Register\n                </Link>\n              </li>,\n              <li key={2}>\n                <Link to=\"/login\">\n                  Login\n                  <i class=\"fas fa-user-circle\"></i>\n                </Link>\n              </li>\n            ]}\n\n            <li className=\"mobileMenu\">\n              <span onClick={() => setActiveMenu(!activeMenu)}>\n                <i className=\"fas fa-bars\"></i>\n              </span>\n            </li>\n\n          </ul>\n\n\n\n\n\n        </div>\n      </div>\n    </header>\n  );\n};\n\nHeader.defaultProps = {\n  currentUser: null\n};\n\nexport default Header;\n","import React from 'react';\nimport './styles.scss';\n\nconst Footer = props => {\n  return (\n    <footer className=\"footer\">\n      <div className=\"wrap\">\n         Anastasios Papapanagiotou 2020-2021\n      </div>\n    </footer>\n  );\n}\n\nexport default Footer;","import React from 'react';\nimport Header from './../components/Header';\nimport Footer from './../components/Footer';\n\nconst MainLayout = props => {\n  return (\n    <div>\n      <Header {...props} />\n      <div className=\"main\">\n        {props.children}\n      </div>\n      <Footer />\n    </div>\n  );\n};\n\nexport default MainLayout;\n","import React from 'react';\nimport Header from './../components/Header';\nimport Footer from './../components/Footer';\n\nconst HomepageLayout = props => {\n  return (\n    <div className=\"fullHeight\">\n      <Header {...props} />\n      {props.children}\n      <Footer />\n    </div>\n  );\n};\n\nexport default HomepageLayout;\n","import React from 'react';\nimport './styles.scss';\n\nconst UserProfile = props => {\n  const { currentUser } = props;\n  const { displayName } = currentUser;\n\n  return (\n    <div className=\"userProfile\">\n      <ul>\n        <li>\n          <div className=\"img\">\n            <img src={\"https://i.ibb.co/JFWfNDk/user.png\"} />\n          </div>\n        </li>\n        <li>\n          <span className=\"displayName\">\n            {displayName && displayName}\n          </span>\n        </li>\n      </ul>\n    </div>\n  );\n}\n\nexport default UserProfile;","import React from 'react';\nimport { useSelector } from 'react-redux'\nimport UserProfile from './../UserProfile';\nimport './styles.scss';\n\nconst mapState = ({ user }) => ({\n  currentUser: user.currentUser\n})\n\nconst VerticalNav = ({ children }) => {\n  const { currentUser } = useSelector(mapState);\n\n  const configUserProfile = {\n    currentUser\n  }\n\n  return (\n    <div className=\"verticalNav\">\n\n      <UserProfile {...configUserProfile} />\n\n      <div className=\"menu\">\n        {children}\n      </div>\n    </div>\n  );\n}\n\nexport default VerticalNav;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { signOutUserStart } from './../redux/User/user.actions';\n\nimport Header from './../components/Header';\nimport VerticalNav from './../components/VerticalNav';\nimport Footer from './../components/Footer';\n\nconst AdminLayout = props => {\n  const dispatch = useDispatch();\n\n  const signOut = () => {\n    dispatch(signOutUserStart());\n  };\n\n  return (\n    <div className=\"adminLayout\">\n      <Header {...props} />\n      <div className=\"controlPanel\">\n        <div className=\"sidebar\">\n          <VerticalNav>\n            <ul>\n              <li>\n                <Link to=\"/admin\">\n                  Home\n                </Link>\n              </li>\n              <li>\n                <span className=\"signOut\" onClick={() => signOut()}>\n                  Sign Out\n                </span>\n              </li>\n            </ul>\n          </VerticalNav>\n        </div>\n        <div className=\"content\">\n          {props.children}\n        </div>\n      </div>\n      <Footer />\n    </div>\n  );\n};\n\nexport default AdminLayout;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { signOutUserStart } from './../redux/User/user.actions';\n\nimport Header from './../components/Header';\nimport VerticalNav from './../components/VerticalNav';\nimport Footer from './../components/Footer';\n\nconst DashBoardLayout = props => {\n  const dispatch = useDispatch();\n\n  const signOut = () => {\n    dispatch(signOutUserStart());\n  };\n\n  return (\n    <div className=\"dashboardLayout\">\n      <Header {...props} />\n      <div className=\"controlPanel\">\n        <div className=\"sidebar\">\n          <VerticalNav>\n            <ul>\n              <li>\n                <Link to=\"/dashboard\">\n                  Home\n                </Link>\n              </li>\n              <li>\n                <span className=\"signOut\" onClick={() => signOut()}>\n                  Sign Out\n                </span>\n              </li>\n            </ul>\n          </VerticalNav>\n        </div>\n        <div className=\"content\">\n          {props.children}\n        </div>\n      </div>\n      <Footer />\n    </div>\n  );\n};\n\nexport default DashBoardLayout;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport './styles.scss';\n\nconst Directory = props => {\n  return (\n    <div className=\"directory\">\n      <div className=\"wrap\">\n        <div\n          className=\"item\"\n          style={{\n            backgroundImage: `url(${\"https://i.ibb.co/jMB005J/shoes.jpg\"})`\n          }}\n        >\n          <Link to=\"/search/shoes\">\n            Shop shoes\n          </Link>\n        </div>\n        <div\n          className=\"item\"\n          style={{\n            backgroundImage: `url(${\"https://i.ibb.co/S7h29y6/sup.jpg\"})`\n          }}\n        >\n          <Link to=\"/search/clothing\">\n            Shop clothing\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Directory;\n","import React from 'react';\nimport Directory from './../../components/Directory';\nimport './styles.scss';\n\nconst Homepage = props => {\n  return (\n    <section className=\"homepage\">\n      <Directory />\n    </section>\n  );\n};\n\nexport default Homepage;","import React from 'react';\nimport './styles.scss';\n\nconst Button = ({ children, ...otherProps }) => {\n  return (\n    <button className=\"btn\" {...otherProps}>\n      {children}\n    </button>\n  );\n}\n\nexport default Button","import React from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport Button from './../../forms/Button';\nimport { useDispatch } from 'react-redux';\nimport { addProduct } from './../../../redux/Cart/cart.actions';\n\nconst Product = (product) => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const {\n    documentID,\n    productThumbnail,\n    productName,\n    productPrice\n  } = product;\n  if (!documentID || !productThumbnail || !productName ||\n    typeof productPrice === 'undefined') return null;\n\n  const configAddToCartBtn = {\n    type: 'button'\n  };\n\n  const handleAddToCart = (product) => {\n    if (!product) return;\n    dispatch(\n      addProduct(product)\n    );\n    history.push('/cart');\n  };\n\n  return (\n    <div className=\"product\">\n      <div className=\"thumb\">\n        <Link to={`/product/${documentID}`}>\n          <img src={productThumbnail} alt={productName} />\n        </Link>\n      </div>\n\n      <div className=\"details\">\n        <ul>\n          <li>\n            <span className=\"name\">\n              <Link to={`/product/${documentID}`}>\n                {productName}\n              </Link>\n            </span>\n          </li>\n          <li>\n            <span className=\"price\">\n              {productPrice}\n            </span>\n          </li>\n          <li>\n            <div className=\"addToCart\">\n              <Button {...configAddToCartBtn} onClick={() => handleAddToCart(product)}>\n                Add to cart\n              </Button>\n            </div>\n          </li>\n        </ul>\n      </div>\n\n    </div>\n  );\n};\n\nexport default Product;","import React from 'react';\nimport './styles.scss';\n\nconst FormSelect = ({ options, defaultValue, handleChange, label, ...otherProps }) => {\n  if (!Array.isArray(options) || options.length < 1) return null;\n\n  return (\n    <div className=\"formRow\">\n      {label && (\n        <label>\n          {label}\n        </label>\n      )}\n\n      <select className=\"formSelect\" value={defaultValue} onChange={handleChange} {...otherProps}>\n        {options.map((option, index) => {\n          const { value, name } = option;\n\n          return (\n            <option key={index} value={value}>{name}</option>\n          );\n        })}\n      </select>\n    </div>\n  );\n}\n\nexport default FormSelect;","import React from 'react';\nimport Button from './../forms/Button';\n\nconst LoadMore = ({\n  onLoadMoreEvt = () => { },\n}) => {\n  return (\n    <Button onClick={() => onLoadMoreEvt()}>\n      Load More\n    </Button>\n  );\n};\n\nexport default LoadMore;\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { fetchProductsStart } from './../../redux/Products/products.actions';\nimport Product from './Product';\nimport FormSelect from './../forms/FormSelect';\nimport LoadMore from './../LoadMore';\nimport './styles.scss';\n\nconst mapState = ({ productsData }) => ({\n  products: productsData.products\n});\n\nconst ProductResults = ({ }) => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const { filterType } = useParams();\n  const { products } = useSelector(mapState);\n\n  const { data, queryDoc, isLastPage } = products;\n\n  useEffect(() => {\n    dispatch(\n      fetchProductsStart({ filterType })\n    )\n  }, [filterType]);\n\n  const handleFilter = (e) => {\n    const nextFilter = e.target.value;\n    history.push(`/search/${nextFilter}`);\n  };\n\n  if (!Array.isArray(data)) return null;\n  if (data.length < 1) {\n    return (\n      <div className=\"products\">\n        <p>\n          No search results.\n        </p>\n      </div>\n    );\n  }\n\n  const configFilters = {\n    defaultValue: filterType,\n    options: [{\n      name: 'Show all',\n      value: ''\n    }, {\n      name: 'Shoes',\n      value: 'shoes'\n    }, {\n      name: 'Clothing',\n      value: 'clothing'\n    }],\n    handleChange: handleFilter\n  };\n\n  const handleLoadMore = () => {\n    dispatch(\n      fetchProductsStart({\n        filterType,\n        startAfterDoc: queryDoc,\n        persistProducts: data\n      })\n    )\n  };\n\n  const configLoadMore = {\n    onLoadMoreEvt: handleLoadMore,\n  };\n\n  return (\n    <div className=\"products\">\n\n      <h1>\n        Browse Products\n      </h1>\n\n      <FormSelect {...configFilters} />\n\n      <div className=\"productResults\">\n        {data.map((product, pos) => {\n          const { productThumbnail, productName, productPrice } = product;\n          if (!productThumbnail || !productName ||\n            typeof productPrice === 'undefined') return null;\n\n          const configProduct = {\n            ...product\n          };\n\n          return (\n            <Product key={pos} {...configProduct} />\n          );\n        })}\n      </div>\n\n      {!isLastPage && (\n        <LoadMore {...configLoadMore} />\n      )}\n\n    </div>\n  );\n};\n\nexport default ProductResults;\n","import React from 'react';\nimport ProductResults from './../../components/ProductResults';\n\nconst Search = ({ }) => {\n  return (\n    <div className=\"searchPage\">\n      <ProductResults />\n    </div>\n  );\n};\n\nexport default Search;\n","import React from 'react';\nimport './styles.scss';\n\nconst AuthWrapper = ({ headline, children }) => {\n  return (\n    <div className=\"authWrapper\">\n      <div className=\"wrap\">\n        {headline && <h2>{headline}</h2>}\n\n        <div className=\"children\">\n          {children && children}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default AuthWrapper;","import React from 'react';\nimport './styles.scss';\n\nconst FormInput = ({ handleChange, label, ...otherProps }) => {\n  return (\n    <div className=\"formRow\">\n      {label && (\n        <label>\n          {label}\n        </label>\n      )}\n\n      <input className=\"formInput\" onChange={handleChange} {...otherProps} />\n    </div>\n  );\n}\n\nexport default FormInput;","import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory, Link } from 'react-router-dom';\nimport { signUpUserStart } from './../../redux/User/user.actions';\nimport './styles.scss';\n\nimport AuthWrapper from './../AuthWrapper';\nimport FormInput from './../forms/FormInput';\nimport Button from './../forms/Button';\n\nconst mapState = ({ user }) => ({\n  currentUser: user.currentUser,\n  userErr: user.userErr\n});\n\nconst Signup = props => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const { currentUser, userErr } = useSelector(mapState);\n  const [displayName, setDisplayName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [errors, setErrors] = useState([]);\n\n  useEffect(() => {\n    if (currentUser) {\n      reset();\n      history.push('/');\n    }\n\n  }, [currentUser]);\n\n  useEffect(() => {\n    if (Array.isArray(userErr) && userErr.length > 0) {\n      setErrors(userErr);\n    }\n\n  }, [userErr]);\n\n  const reset = () => {\n    setDisplayName('');\n    setEmail('');\n    setPassword('');\n    setConfirmPassword('');\n    setErrors([]);\n  };\n\n  const handleFormSubmit = event => {\n    event.preventDefault();\n    dispatch(signUpUserStart({\n      displayName,\n      email,\n      password,\n      confirmPassword\n    }));\n  }\n\n  const configAuthWrapper = {\n    headline: 'Registration'\n  };\n\n  return (\n    <AuthWrapper {...configAuthWrapper}>\n      <div className=\"formWrap\">\n\n        {errors.length > 0 && (\n          <ul>\n            {errors.map((err, index) => {\n              return (\n                <li key={index}>\n                  {err}\n                </li>\n              );\n            })}\n          </ul>\n        )}\n\n        <form onSubmit={handleFormSubmit}>\n\n          <FormInput\n            type=\"text\"\n            name=\"displayName\"\n            value={displayName}\n            placeholder=\"Full name\"\n            handleChange={e => setDisplayName(e.target.value)}\n          />\n\n          <FormInput\n            type=\"email\"\n            name=\"email\"\n            value={email}\n            placeholder=\"Email\"\n            handleChange={e => setEmail(e.target.value)}\n          />\n\n          <FormInput\n            type=\"password\"\n            name=\"password\"\n            value={password}\n            placeholder=\"Password\"\n            handleChange={e => setPassword(e.target.value)}\n          />\n\n          <FormInput\n            type=\"password\"\n            name=\"confirmPassword\"\n            value={confirmPassword}\n            placeholder=\"Confirm Password\"\n            handleChange={e => setConfirmPassword(e.target.value)}\n          />\n\n          <Button type=\"submit\">\n            Register\n          </Button>\n        </form>\n\n        <div className=\"links\">\n          <Link to=\"/login\">\n            LogIn\n          </Link>\n          {` | `}\n          <Link to=\"/recovery\">\n            Reset Password\n            </Link>\n        </div>\n      </div>\n    </AuthWrapper>\n  );\n}\n\nexport default Signup;\n","import React, { Component } from 'react';\nimport Signup from './../../components/Signup';\nimport './styles.scss';\n\nconst Registration = props => {\n  return <Signup />;\n};\n\nexport default Registration;\n","import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link, useHistory } from 'react-router-dom';\nimport { emailSignInStart, googleSignInStart } from './../../redux/User/user.actions';\n\nimport './styles.scss';\n\nimport AuthWrapper from './../AuthWrapper';\nimport FormInput from './../forms/FormInput';\nimport Button from './../forms/Button';\n\nconst mapState = ({ user }) => ({\n  currentUser: user.currentUser\n});\n\nconst SignIn = props => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const { currentUser } = useSelector(mapState);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('')\n\n  useEffect(() => {\n    if (currentUser) {\n      resetForm();\n      history.push('/');\n    }\n\n  }, [currentUser]);\n\n  const resetForm = () => {\n    setEmail('');\n    setPassword('');\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    dispatch(emailSignInStart({ email, password }));\n  }\n\n  const handleGoogleSignIn = () => {\n    dispatch(googleSignInStart());\n  }\n\n  const configAuthWrapper = {\n    headline: 'LogIn'\n  };\n\n  return (\n    <AuthWrapper {...configAuthWrapper}>\n      <div className=\"formWrap\">\n        <form onSubmit={handleSubmit}>\n\n          <FormInput\n            type=\"email\"\n            name=\"email\"\n            value={email}\n            placeholder=\"Email\"\n            handleChange={e => setEmail(e.target.value)}\n          />\n\n          <FormInput\n            type=\"password\"\n            name=\"password\"\n            value={password}\n            placeholder=\"Password\"\n            handleChange={e => setPassword(e.target.value)}\n          />\n\n          <Button type=\"submit\">\n            LogIn\n          </Button>\n\n          <div className=\"socialSignin\">\n            <div className=\"row\">\n              <Button onClick={handleGoogleSignIn}>\n                Sign in with Google\n              </Button>\n            </div>\n          </div>\n\n          <div className=\"links\">\n            <Link to=\"/registration\">\n              Register\n            </Link>\n            {` | `}\n            <Link to=\"/recovery\">\n              Reset Password\n            </Link>\n          </div>\n\n        </form>\n      </div>\n    </AuthWrapper>\n  );\n}\n\nexport default SignIn;\n","import React from 'react';\nimport './styles.scss';\nimport SignIn from './../../components/SignIn';\n\nconst Login = props => {\n  return <SignIn />\n}\n\nexport default Login;","import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory, Link } from 'react-router-dom';\nimport { resetPasswordStart, resetUserState } from './../../redux/User/user.actions';\nimport './styles.scss';\n\nimport AuthWrapper from './../AuthWrapper';\nimport FormInput from './../forms/FormInput';\nimport Button from './../forms/Button';\n\nconst mapState = ({ user }) => ({\n  resetPasswordSuccess: user.resetPasswordSuccess,\n  userErr: user.userErr\n});\n\nconst EmailPassword = props => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const { resetPasswordSuccess, userErr } = useSelector(mapState);\n  const [email, setEmail] = useState('');\n  const [errors, setErrors] = useState([]);\n\n  useEffect(() => {\n    if (resetPasswordSuccess) {\n      dispatch(resetUserState());\n      history.push('/login');\n    }\n\n  }, [resetPasswordSuccess]);\n\n  useEffect(() => {\n    if (Array.isArray(userErr) && userErr.length > 0) {\n      setErrors(userErr);\n    }\n\n  }, [userErr]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    dispatch(resetPasswordStart({ email }));\n  }\n\n  const configAuthWrapper = {\n    headline: 'Email Password'\n  };\n\n  return (\n    <AuthWrapper {...configAuthWrapper}>\n      <div className=\"formWrap\">\n\n        {errors.length > 0 && (\n          <ul>\n            {errors.map((e, index) => {\n              return (\n                <li key={index}>\n                  {e}\n                </li>\n              );\n            })}\n          </ul>\n        )}\n\n        <form onSubmit={handleSubmit}>\n\n          <FormInput\n            type=\"email\"\n            name=\"email\"\n            value={email}\n            placeholder=\"Email\"\n            handleChange={e => setEmail(e.target.value)}\n          />\n\n          <Button type=\"submit\">\n            Email Password\n          </Button>\n\n        </form>\n\n        <div className=\"links\">\n          <Link to=\"/login\">\n            LogIn\n          </Link>\n          {` | `}\n          <Link to=\"/registration\">\n            Register\n          </Link>\n        </div>\n\n      </div>\n    </AuthWrapper>\n  );\n}\n\nexport default EmailPassword;\n","import React from 'react';\nimport EmailPassword from './../../components/EmailPassword';\n\nconst Recovery = props => {\n  return <EmailPassword />\n}\n\nexport default Recovery;","import React from 'react';\nimport {\n  TableContainer, Table, TableHead,\n  TableRow, TableBody, TableCell\n} from '@material-ui/core';\nimport moment from 'moment';\nimport { useHistory } from 'react-router-dom';\n\nconst columns = [\n  {\n    id: 'orderCreatedDate',\n    lable: 'Order Date'\n  },\n  {\n    id: 'documentID',\n    lable: 'Order ID'\n  },\n  {\n    id: 'orderTotal',\n    lable: 'Amount'\n  }\n];\n\nconst styles = {\n  fontSize: '16px',\n  cursor: 'pointer',\n  width: '10%'\n};\n\nconst formatText = (columnName, columnValue) => {\n  switch (columnName) {\n    case 'orderTotal':\n      return `${columnValue}`;\n    case 'orderCreatedDate':\n      return moment(columnValue.nano).format('DD/MM/YYYY')\n    default:\n      return columnValue;\n  }\n};\n\nconst OrderHistory = ({ orders }) => {\n  const history = useHistory();\n\n  return (\n    <TableContainer>\n      <Table>\n\n        <TableHead>\n          <TableRow>\n            {columns.map((column, pos) => {\n              const { lable } = column;\n\n              return (\n                <TableCell\n                  key={pos}\n                  style={styles}\n                >\n                  {lable}\n                </TableCell>\n              )\n            })}\n          </TableRow>\n        </TableHead>\n\n        <TableBody>\n\n          {(Array.isArray(orders) && orders.length > 0) && orders.map((row, pos) => {\n            const { documentID } = row;\n\n            return (\n              <TableRow\n                key={pos}\n                onClick={() => history.push(`/order/${documentID}`)}\n              >\n\n                {columns.map((column, pos) => {\n                  const columnName = column.id;\n                  const columnValue = row[columnName];\n                  const formattedText = formatText(columnName, columnValue);\n\n                  return (\n                    <TableCell\n                      key={pos}\n                      style={styles}\n                    >\n                      {formattedText}\n                    </TableCell>\n                  )\n                })}\n\n              </TableRow>\n            )\n          })}\n\n        </TableBody>\n\n      </Table>\n    </TableContainer>\n  )\n}\n\nexport default OrderHistory;\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getUserOrderHistory } from './../../redux/Orders/orders.actions';\nimport OrderHistory from './../../components/OrderHistory';\nimport './styles.scss';\n\nconst mapState = ({ user, ordersData }) => ({\n  currentUser: user.currentUser,\n  orderHistory: ordersData.orderHistory.data\n});\n\nconst Dashboard = props => {\n  const dispatch = useDispatch();\n  const { currentUser, orderHistory } = useSelector(mapState);\n\n  useEffect(() => {\n    dispatch(\n      getUserOrderHistory(currentUser.id)\n    );\n\n  }, []);\n\n  return (\n    <div>\n      <h1>\n        Order History\n      </h1>\n\n      <OrderHistory orders={orderHistory} />\n    </div>\n  );\n};\n\nexport default Dashboard;\n","import React, { useState } from 'react';\nimport './styles.scss';\n\nconst Modal = ({ hideModal, toggleModal, children }) => {\n  if (hideModal) return null;\n\n  return [\n    <div className=\"modalOverlay\" onClick={() => toggleModal()} />,\n    <div className=\"modalWrap\">\n      <div className=\"modal\">\n        {children}\n      </div>\n    </div>\n  ];\n}\n\nexport default Modal;","import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addProductStart, fetchProductsStart, deleteProductStart } from './../../redux/Products/products.actions';\nimport Modal from './../../components/Modal';\nimport FormInput from './../../components/forms/FormInput';\nimport FormSelect from './../../components/forms/FormSelect';\nimport Button from './../../components/forms/Button';\nimport LoadMore from './../../components/LoadMore';\nimport CKEditor from 'ckeditor4-react';\nimport './styles.scss';\n\nconst mapState = ({ productsData }) => ({\n  products: productsData.products\n});\n\nconst Admin = props => {\n  const { products } = useSelector(mapState);\n  const dispatch = useDispatch();\n  const [hideModal, setHideModal] = useState(true);\n  const [productCategory, setProductCategory] = useState('shoes');\n  const [productName, setProductName] = useState('');\n  const [productThumbnail, setProductThumbnail] = useState('');\n  const [productPrice, setProductPrice] = useState(0);\n  const [productDesc, setProductDesc] = useState('');\n\n  const { data, queryDoc, isLastPage } = products;\n\n  useEffect(() => {\n    dispatch(\n      fetchProductsStart()\n    );\n  }, []);\n\n  const toggleModal = () => setHideModal(!hideModal);\n\n  const configModal = {\n    hideModal,\n    toggleModal\n  };\n\n  const resetForm = () => {\n    setHideModal(true);\n    setProductCategory('shoes');\n    setProductName('');\n    setProductThumbnail('');\n    setProductPrice(0);\n    setProductDesc('');\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    dispatch(\n      addProductStart({\n        productCategory,\n        productName,\n        productThumbnail,\n        productPrice,\n        productDesc,\n      })\n    );\n    resetForm();\n\n  };\n\n  const handleLoadMore = () => {\n    dispatch(\n      fetchProductsStart({\n        startAfterDoc: queryDoc,\n        persistProducts: data\n      })\n    );\n  };\n\n  const configLoadMore = {\n    onLoadMoreEvt: handleLoadMore,\n  };\n\n  return (\n    <div className=\"admin\">\n\n      <div className=\"callToActions\">\n        <ul>\n          <li>\n            <Button onClick={() => toggleModal()}>\n              Add new product\n            </Button>\n          </li>\n        </ul>\n      </div>\n\n      <Modal {...configModal}>\n        <div className=\"addNewProductForm\">\n          <form onSubmit={handleSubmit}>\n\n            <h2>\n              Add new product\n            </h2>\n\n            <FormSelect\n              label=\"Category\"\n              options={[{\n                value: \"shoes\",\n                name: \"Shoes\"\n              }, {\n                value: \"clothing\",\n                name: \"Clothing\"\n              }]}\n              handleChange={e => setProductCategory(e.target.value)}\n            />\n\n            <FormInput\n              label=\"Name\"\n              type=\"text\"\n              value={productName}\n              handleChange={e => setProductName(e.target.value)}\n            />\n\n            <FormInput\n              label=\"Main image URL\"\n              type=\"url\"\n              value={productThumbnail}\n              handleChange={e => setProductThumbnail(e.target.value)}\n            />\n\n            <FormInput\n              label=\"Price\"\n              type=\"number\"\n              min=\"0.00\"\n              max=\"10000.00\"\n              step=\"0.01\"\n              value={productPrice}\n              handleChange={e => setProductPrice(e.target.value)}\n            />\n\n            <CKEditor\n              onChange={evt => setProductDesc(evt.editor.getData())}\n            />\n\n            <br />\n\n            <Button type=\"submit\">\n              Add product\n            </Button>\n\n          </form>\n        </div>\n      </Modal>\n\n      <div className=\"manageProducts\">\n\n        <table border=\"0\" cellPadding=\"0\" cellSpacing=\"0\">\n          <tbody>\n            <tr>\n              <th>\n                <h1>\n                  Manage Products\n                </h1>\n              </th>\n            </tr>\n            <tr>\n              <td>\n                <table className=\"results\" border=\"0\" cellPadding=\"10\" cellSpacing=\"0\">\n                  <tbody>\n                    {(Array.isArray(data) && data.length > 0) && data.map((product, index) => {\n                      const {\n                        productName,\n                        productThumbnail,\n                        productPrice,\n                        documentID\n                      } = product;\n\n                      return (\n                        <tr key={index}>\n                          <td>\n                            <img className=\"thumb\" src={productThumbnail} />\n                          </td>\n                          <td>\n                            {productName}\n                          </td>\n                          <td>\n                            {productPrice}\n                          </td>\n                          <td>\n                            <Button onClick={() => dispatch(deleteProductStart(documentID))}>\n                              Delete\n                            </Button>\n                          </td>\n                        </tr>\n                      )\n                    })}\n                  </tbody>\n                </table>\n              </td>\n            </tr>\n            <tr>\n              <td>\n\n              </td>\n            </tr>\n            <tr>\n              <td>\n                <table border=\"0\" cellPadding=\"10\" cellSpacing=\"0\">\n                  <tbody>\n                    <tr>\n                      <td>\n                        {!isLastPage && (\n                          <LoadMore {...configLoadMore} />\n                        )}\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n\n      </div>\n\n    </div>\n  );\n}\n\nexport default Admin;","import React, { useEffect } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchProductStart, setProduct } from './../../redux/Products/products.actions';\nimport { addProduct } from './../../redux/Cart/cart.actions';\nimport Button from './../forms/Button';\nimport './styles.scss';\n\nconst mapState = state => ({\n  product: state.productsData.product\n});\n\nconst ProductCard = ({}) => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const { productID } = useParams();\n  const { product } = useSelector(mapState);\n\n  const {\n    productThumbnail,\n    productName,\n    productPrice,\n    productDesc,\n  } = product;\n\n  useEffect(() => {\n    dispatch(\n      fetchProductStart(productID)\n    )\n\n    return () => {\n      dispatch(\n        setProduct({})\n      )\n    }\n\n  }, []);\n\n  const handleAddToCart = (product) => {\n    if (!product) return;\n    dispatch(\n      addProduct(product)\n    );\n    history.push('/cart');\n  }\n\n  const configAddToCartBtn = {\n    type: 'button'\n  }\n\n  return (\n    <div className=\"productCard\">\n      <div className=\"hero\">\n        <img src={productThumbnail} />\n      </div>\n      <div className=\"productDetails\">\n        <ul>\n          <li>\n            <h1>\n              {productName}\n            </h1>\n          </li>\n          <li>\n            <span>\n              {productPrice}\n            </span>\n          </li>\n          <li>\n            <div className=\"addToCart\">\n              <Button {...configAddToCartBtn} onClick={() => handleAddToCart(product)}>\n                Add to cart\n              </Button>\n            </div>\n          </li>\n          <li>\n            <span\n              className=\"desc\"\n              dangerouslySetInnerHTML={{ __html: productDesc }} />\n          </li>\n        </ul>\n      </div>\n    </div>\n  );\n}\n\nexport default ProductCard;\n","import React from 'react';\nimport ProductCard from './../../components/ProductCard';\n\nconst ProductDetails = ({}) => {\n  return (\n    <div>\n      <ProductCard />\n    </div>\n  );\n}\n\nexport default ProductDetails;\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { removeCartItem, addProduct, reduceCartItem } from './../../../redux/Cart/cart.actions';\n\nconst Item = (product) => {\n  const dispatch = useDispatch();\n  const {\n    productName,\n    productThumbnail,\n    productPrice,\n    quantity,\n    documentID\n  } = product;\n\n  const handleRemoveCartItem = (documentID) => {\n    dispatch(\n      removeCartItem({\n        documentID\n      })\n    );\n  }\n\n  const handleAddProduct = (product) => {\n    dispatch(\n      addProduct(product)\n    )\n  }\n\n  const handleReduceItem = (product) => {\n    dispatch(\n      reduceCartItem(product)\n    );\n  }\n\n  return (\n    <table className=\"cartItem\" border=\"0\" cellSpacing=\"0\" cellPadding=\"10\">\n      <tbody>\n        <tr>\n          <td>\n            <img src={productThumbnail} alt={productName} />\n          </td>\n          <td>\n            {productName}\n          </td>\n          <td>\n            <span className=\"cartBtn\"\n              onClick={() => handleReduceItem(product)}>\n              {`< `}\n            </span>\n            <span>\n              {quantity}\n            </span>\n            <span className=\"cartBtn\"\n              onClick={() => handleAddProduct(product)}>\n              {` >`}\n            </span>\n          </td>\n          <td>\n            {productPrice}\n          </td>\n          <td align=\"center\">\n            <span className=\"cartBtn remove\" onClick={() => handleRemoveCartItem(documentID)}>\n              X\n            </span>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  );\n}\n\nexport default Item;\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { selectCartItems, selectCartTotal } from './../../redux/Cart/cart.selectors';\nimport { createStructuredSelector } from 'reselect';\nimport './styles.scss';\nimport Button from './../forms/Button';\nimport Item from './Item';\n\nconst mapState = createStructuredSelector({\n  cartItems: selectCartItems,\n  total: selectCartTotal\n});\n\nconst Checkout = ({ }) => {\n  const history = useHistory();\n  const { cartItems, total } = useSelector(mapState);\n\n  const errMsg = 'You have no items in your cart.';\n\n  return (\n    <div className=\"checkout\">\n      <h1>\n        Checkout\n      </h1>\n\n      <div className=\"cart\">\n        {cartItems.length > 0 ? (\n          <table border=\"0\" cellPadding=\"0\" cellSpacing=\"0\">\n            <tbody>\n              <tr>\n                <td>\n                  <table className=\"checkoutHeader\" border=\"0\" cellPadding=\"10\" cellSpacing=\"0\">\n                    <tbody>\n                      <tr>\n                        <th>\n                          Product\n                        </th>\n                        <th>\n                          Description\n                        </th>\n                        <th>\n                          Quantity\n                        </th>\n                        <th>\n                          Price\n                        </th>\n                        <th>\n                          Remove\n                        </th>\n                      </tr>\n                    </tbody>\n                  </table>\n                </td>\n              </tr>\n              <tr>\n                <td>\n                  <table border=\"0\" cellSpacing=\"0\" cellPadding=\"0\">\n                    <tbody>\n                      {cartItems.map((item, pos) => {\n                        return (\n                          <tr key={pos}>\n                            <td>\n                              <Item {...item} />\n                            </td>\n                          </tr>\n                        );\n                      })}\n                    </tbody>\n                  </table>\n                </td>\n              </tr>\n              <tr>\n                <td>\n                  <table border=\"0\" cellSpacing=\"0\" cellPadding=\"0\">\n                    <tbody>\n                      <tr>\n                        <td>\n                          <table border=\"0\" cellPadding=\"10\" cellSpacing=\"0\">\n                            <tbody>\n                              <tr>\n                                <td>\n                                <h3>\n                                  Total: {total}\n                                </h3>\n                                </td>\n                              </tr>\n                            </tbody>\n                          </table>\n                        </td>\n                      </tr>\n                      <tr>\n                        <td>\n                          <table border=\"0\" cellPadding=\"10\" cellSpacing=\"0\">\n                            <tbody>\n                              <tr>\n                                <td>\n                                  <Button onClick={() => history.goBack()}>\n                                    Continue Shopping\n                                  </Button>\n                                </td>\n                                <td>\n                                  <Button onClick={() => history.push('/payment')}>\n                                    Checkout\n                                  </Button>\n                                </td>\n                              </tr>\n                            </tbody>\n                          </table>\n                        </td>\n                      </tr>\n                    </tbody>\n                  </table>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        ) : (\n            <p>\n              {errMsg}\n            </p>\n          )}\n      </div>\n    </div>\n  );\n};\n\nexport default Checkout;\n","import React from 'react';\nimport Checkout from './../../components/Checkout';\n\nconst Cart = ({}) => {\n  return (\n    <div>\n      <Checkout />\n    </div>\n  );\n}\n\nexport default Cart;\n","import React, { useState, useEffect } from 'react';\r\nimport { CardElement, useStripe, useElements } from '@stripe/react-stripe-js';\r\nimport FormInput from '../forms/FormInput';\r\nimport Button from '../forms/Button';\r\nimport { CountryDropdown } from 'react-country-region-selector';\r\nimport { apiInstance } from '../../Utils';\r\nimport { selectCartTotal, selectCartItemsCount, selectCartItems } from '../../redux/Cart/cart.selectors';\r\nimport { saveOrderHistory } from '../../redux/Orders/orders.actions';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport './styles.scss';\r\nimport axios from 'axios';\r\n\r\nconst initialAddressState = {\r\n  line1: '',\r\n  line2: '',\r\n  city: '',\r\n  state: '',\r\n  postal_code: '',\r\n  country: '',\r\n};\r\n\r\nconst mapState = createStructuredSelector({\r\n  total: selectCartTotal,\r\n  itemCount: selectCartItemsCount,\r\n  cartItems: selectCartItems,\r\n});\r\n\r\nconst PaymentDetails = () => {\r\n  const stripe = useStripe();\r\n  const elements = useElements();\r\n  const history = useHistory();\r\n  const { total, itemCount, cartItems } = useSelector(mapState);\r\n  const dispatch = useDispatch();\r\n  const [billingAddress, setBillingAddress] = useState({ ...initialAddressState });\r\n  const [shippingAddress, setShippingAddress] = useState({ ...initialAddressState });\r\n  const [recipientName, setRecipientName] = useState('');\r\n  const [nameOnCard, setNameOnCard] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [disabled, setDisabled] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [processing, setProcessing] = useState('');\r\n  const [succeeded, setSucceeded] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (itemCount < 1) {\r\n      history.push('/dashboard');\r\n    }\r\n\r\n  }, [itemCount]);\r\n\r\n  const handleShipping = evt => {\r\n    const { name, value } = evt.target;\r\n    setShippingAddress({\r\n      ...shippingAddress,\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  const handleBilling = evt => {\r\n    const { name, value } = evt.target;\r\n    setBillingAddress({\r\n      ...billingAddress,\r\n      [name]: value\r\n    });\r\n  }\r\n\r\n  const handleFormSubmit = async evt => {\r\n    evt.preventDefault();\r\n\r\n    const cardElement = elements.getElement('card');\r\n\r\n    if (\r\n      !shippingAddress.line1 || !shippingAddress.city ||\r\n      !shippingAddress.state || !shippingAddress.postal_code ||\r\n      !shippingAddress.country || !billingAddress.line1 ||\r\n      !billingAddress.city || !billingAddress.state ||\r\n      !billingAddress.postal_code || !billingAddress.country ||\r\n      !recipientName || !nameOnCard\r\n    ) {\r\n      return;\r\n    }\r\n    \r\n    setProcessing(true);\r\n    const { data: clientSecret } = await axios.post(\"/api\")\r\n    apiInstance.post('/payments/create', {\r\n      amount: total * 100,\r\n      shipping: {\r\n        name: recipientName,\r\n        address: {\r\n          ...shippingAddress\r\n        }\r\n      }\r\n    }).then(({ data: clientSecret }) => {\r\n      stripe.createPaymentMethod({\r\n        type: 'card',\r\n        card: cardElement,\r\n        billing_details: {\r\n          name: nameOnCard,\r\n          address: {\r\n            ...billingAddress\r\n          }\r\n        }\r\n      }).then(({ paymentMethod }) => {\r\n        stripe.confirmCardPayment(clientSecret, {\r\n          receipt_email: email,\r\n          payment_method: paymentMethod.id\r\n        })\r\n        .then(({ paymentIntent }) => {\r\n\r\n          const configOrder = {\r\n            orderTotal: total,\r\n            orderItems: cartItems.map(item => {\r\n              const { documentID, productThumbnail, productName,\r\n                productPrice, quantity } = item;\r\n\r\n              return {\r\n                documentID,\r\n                productThumbnail,\r\n                productName,\r\n                productPrice,\r\n                quantity\r\n              };\r\n            })\r\n          }\r\n          setError(null);\r\n          setProcessing(false);\r\n          setSucceeded(true);\r\n          dispatch(\r\n            saveOrderHistory(configOrder)\r\n          );\r\n        });\r\n\r\n      })\r\n\r\n\r\n    });\r\n\r\n  };\r\n\r\n  const configCardElement = {\r\n    iconStyle: 'solid',\r\n    style: {\r\n      base: {\r\n        fontSize: '16px'\r\n      }\r\n    },\r\n    hidePostalCode: true\r\n  };\r\n\r\n  const handleChange = async (event) => {\r\n    setDisabled(event.empty);\r\n    setError(event.error ? event.error.message : \"\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"paymentDetails\">\r\n      <form onSubmit={handleFormSubmit}>\r\n\r\n        <div className=\"group\">\r\n          <h2>\r\n            Shipping Address\r\n          </h2>\r\n\r\n          <FormInput\r\n            required\r\n            placeholder=\"Recipient Name\"\r\n            name=\"recipientName\"\r\n            handleChange={evt => setRecipientName(evt.target.value)}\r\n            value={recipientName}\r\n            type=\"text\"\r\n          />\r\n\r\n          <FormInput\r\n            required\r\n            placeholder=\"Line 1\"\r\n            name=\"line1\"\r\n            handleChange={evt => handleShipping(evt)}\r\n            value={shippingAddress.line1}\r\n            type=\"text\"\r\n          />\r\n\r\n          <FormInput\r\n            placeholder=\"Line 2\"\r\n            name=\"line2\"\r\n            handleChange={evt => handleShipping(evt)}\r\n            value={shippingAddress.line2}\r\n            type=\"text\"\r\n          />\r\n\r\n          <FormInput\r\n            required\r\n            placeholder=\"City\"\r\n            name=\"city\"\r\n            handleChange={evt => handleShipping(evt)}\r\n            value={shippingAddress.city}\r\n            type=\"text\"\r\n          />\r\n\r\n          <FormInput\r\n            required\r\n            placeholder=\"State\"\r\n            name=\"state\"\r\n            handleChange={evt => handleShipping(evt)}\r\n            value={shippingAddress.state}\r\n            type=\"text\"\r\n          />\r\n\r\n          <FormInput\r\n            required\r\n            placeholder=\"Postal Code\"\r\n            name=\"postal_code\"\r\n            handleChange={evt => handleShipping(evt)}\r\n            value={shippingAddress.postal_code}\r\n            type=\"text\"\r\n          />\r\n\r\n          <div className=\"formRow checkoutInput\">\r\n            <CountryDropdown\r\n              required\r\n              onChange={val => handleShipping({\r\n                target: {\r\n                  name: 'country',\r\n                  value: val\r\n                }\r\n              })}\r\n              value={shippingAddress.country}\r\n              valueType=\"short\"\r\n            />\r\n          </div>\r\n\r\n        </div>\r\n\r\n        <div className=\"group\">\r\n          <h2>\r\n            Billing Address\r\n          </h2>\r\n\r\n          <FormInput\r\n            required\r\n            placeholder=\"Name on Card\"\r\n            name=\"nameOnCard\"\r\n            handleChange={evt => setNameOnCard(evt.target.value)}\r\n            value={nameOnCard}\r\n            type=\"text\"\r\n          />\r\n\r\n          <FormInput\r\n            required\r\n            placeholder=\"Line 1\"\r\n            name=\"line1\"\r\n            handleChange={evt => handleBilling(evt)}\r\n            value={billingAddress.line1}\r\n            type=\"text\"\r\n          />\r\n\r\n          <FormInput\r\n            placeholder=\"Line 2\"\r\n            name=\"line2\"\r\n            handleChange={evt => handleBilling(evt)}\r\n            value={billingAddress.line2}\r\n            type=\"text\"\r\n          />\r\n\r\n          <FormInput\r\n            required\r\n            placeholder=\"City\"\r\n            name=\"city\"\r\n            handleChange={evt => handleBilling(evt)}\r\n            value={billingAddress.city}\r\n            type=\"text\"\r\n          />\r\n\r\n          <FormInput\r\n            required\r\n            placeholder=\"State\"\r\n            name=\"state\"\r\n            handleChange={evt => handleBilling(evt)}\r\n            value={billingAddress.state}\r\n            type=\"text\"\r\n          />\r\n\r\n          <FormInput\r\n            required\r\n            placeholder=\"Postal Code\"\r\n            name=\"postal_code\"\r\n            handleChange={evt => handleBilling(evt)}\r\n            value={billingAddress.postal_code}\r\n            type=\"text\"\r\n          />\r\n\r\n          <div className=\"formRow checkoutInput\">\r\n            <CountryDropdown\r\n              required\r\n              onChange={val => handleBilling({\r\n                target: {\r\n                  name: 'country',\r\n                  value: val\r\n                }\r\n              })}\r\n              value={billingAddress.country}\r\n              valueType=\"short\"\r\n            />\r\n          </div>\r\n\r\n        </div>\r\n\r\n        <div className=\"group\">\r\n          <h2>\r\n            Payment details\r\n          </h2>\r\n          \r\n          <input \r\n          className=\"email_input\"\r\n          type=\"text\"\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n          placeholder=\"Enter email for receipt\"/>\r\n\r\n          <CardElement\r\n            onChange={handleChange}\r\n            options={configCardElement}\r\n          />\r\n        </div>\r\n\r\n        <button\r\n          disabled={processing || disabled || succeeded}\r\n          type=\"submit\"\r\n        >\r\n          <span id=\"button-text\">{processing ? (<div className=\"spinner\" id=\"spinner\"></div>) : (\"Pay\")}</span>\r\n        </button>\r\n\r\n        {error && (\r\n          <div className=\"card-error\" role=\"alert\">\r\n            {error}\r\n          </div>\r\n        )}\r\n\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PaymentDetails;\r\n","import React from 'react';\nimport PaymentDetails from './../../components/PaymentDetails';\nimport { Elements } from '@stripe/react-stripe-js';\nimport { loadStripe } from '@stripe/stripe-js';\nimport { publishableKey } from './../../stripe/config';\n\nconst stripePromise = loadStripe(publishableKey);\n\nconst Payment = () => {\n  return (\n    <Elements stripe={stripePromise}>\n      <PaymentDetails />\n    </Elements>\n  );\n}\n\nexport default Payment;\n","export const publishableKey = 'pk_live_51IA9SmLZlxUUbql7s6x7KiHJ0necQBMbUJcPKIEaSlODO7they7lUx0xRlepThB0NL57KkBwNDkYgVjrzPtkFd8N00aCkiuYgH';","import React, { useEffect } from 'react';\nimport {\n  TableContainer, Table, TableHead,\n  TableBody, TableRow, TableCell\n} from '@material-ui/core';\nimport { useDispatch } from 'react-redux';\nimport { setOrderDetails } from './../../redux/Orders/orders.actions';\n\nconst columns = [\n  {\n    id: 'productThumbnail',\n    label: ''\n  },\n  {\n    id: 'productName',\n    label: 'Name'\n  },\n  {\n    id: 'productPrice',\n    label: 'Price'\n  },\n  {\n    id: 'quantity',\n    label: 'Quantity'\n  }\n]\n\nconst styles = {\n  fontSize: '16px',\n  width: '10%'\n};\n\nconst formatText = (columnName, columnValue) => {\n  switch(columnName) {\n    case 'productPrice':\n      return `${columnValue}`;\n    case 'productThumbnail':\n      return <img src={columnValue} width={250} />;\n    default:\n      return columnValue;\n  }\n}\n\nconst OrderDetails = ({ order }) => {\n  const dispatch = useDispatch();\n  const orderItems = order && order.orderItems;\n\n  useEffect(() => {\n    return () => {\n      dispatch(\n        setOrderDetails({})\n      );\n    }\n  }, []);\n\n  return (\n    <TableContainer>\n      <Table>\n\n        <TableHead>\n          <TableRow>\n\n            {columns.map((col, pos) => {\n              return (\n                <TableCell\n                  key={pos}\n                  style={styles}\n                >\n                  {col.label}\n                </TableCell>\n              )\n            })}\n\n          </TableRow>\n        </TableHead>\n\n        <TableBody>\n\n          {(Array.isArray(orderItems) && orderItems.length > 0) && orderItems.map((row, pos) => {\n            return (\n              <TableRow key={pos}>\n\n                {columns.map((col, pos) => {\n                  const columnName = col.id;\n                  const columnValue = row[columnName];\n\n                  return (\n                    <TableCell\n                      key={pos}\n                      style={styles}\n                    >\n                      {formatText(columnName, columnValue)}\n                    </TableCell>\n                  )\n                })}\n\n              </TableRow>\n            )\n          })}\n\n        </TableBody>\n\n      </Table>\n    </TableContainer>\n  )\n}\n\nexport default OrderDetails;\n","import React, { useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { getOrderDetailsStart } from './../../redux/Orders/orders.actions';\nimport { useDispatch, useSelector } from 'react-redux';\nimport OrderDetails from './../../components/OrderDetails';\n\nconst mapState = ({ ordersData }) => ({\n  orderDetails: ordersData.orderDetails\n});\n\nconst Order = () => {\n  const { orderID } = useParams();\n  const dispatch = useDispatch();\n  const { orderDetails } = useSelector(mapState);\n  const { orderTotal } = orderDetails;\n\n  useEffect(() => {\n\n    dispatch(\n      getOrderDetailsStart(orderID)\n    );\n\n  }, []);\n\n  return (\n    <div>\n\n      <h1>\n        Order ID: #{orderID}\n      </h1>\n\n      <OrderDetails order={orderDetails} />\n\n      <h3>\n        Total: {orderTotal}\n      </h3>\n\n    </div>\n  )\n\n}\n\nexport default Order;","import React, { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Switch, Route } from 'react-router-dom';\nimport { checkUserSession } from './redux/User/user.actions';\n\n// components\nimport AdminToolbar from './components/AdminToolbar';\n\n// hoc\nimport WithAuth from './hoc/withAuth';\nimport WithAdminAuth from './hoc/withAdminAuth';\n\n// layouts\nimport MainLayout from './layouts/MainLayout';\nimport HomepageLayout from './layouts/HomepageLayout';\nimport AdminLayout from './layouts/AdminLayout';\nimport DashboardLayout from './layouts/DashboardLayout';\n\n// pages\nimport Homepage from './pages/Homepage';\nimport Search from './pages/Search';\nimport Registration from './pages/Registration';\nimport Login from './pages/Login';\nimport Recovery from './pages/Recovery';\nimport Dashboard from './pages/Dashboard';\nimport Admin from './pages/Admin';\nimport ProductDetails from './pages/ProductDetails';\nimport Cart from './pages/Cart';\nimport Payment from './pages/Payment';\nimport Order from './pages/Order';\nimport './default.scss';\n\nconst App = props => {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(checkUserSession());\n\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <AdminToolbar />\n      <Switch>\n        <Route exact path=\"/\" render={() => (\n          <HomepageLayout>\n            <Homepage />\n          </HomepageLayout>\n        )}\n        />\n        <Route exact path=\"/search\" render={() => (\n          <MainLayout>\n            <Search />\n          </MainLayout>\n        )} />\n        <Route path=\"/search/:filterType\" render={() => (\n          <MainLayout>\n            <Search />\n          </MainLayout>\n        )} />\n        <Route path=\"/product/:productID\" render={() => (\n          <MainLayout>\n            <ProductDetails />\n          </MainLayout>\n        )} />\n        <Route path=\"/cart\" render={() => (\n          <MainLayout>\n            <Cart />\n          </MainLayout>\n        )} />\n        <Route path=\"/payment\" render={() => (\n          <WithAuth>\n            <MainLayout>\n              <Payment />\n            </MainLayout>\n          </WithAuth>\n        )} />\n        <Route path=\"/registration\" render={() => (\n          <MainLayout>\n            <Registration />\n          </MainLayout>\n        )} />\n        <Route path=\"/login\"\n          render={() => (\n            <MainLayout>\n              <Login />\n            </MainLayout>\n          )} />\n        <Route path=\"/recovery\" render={() => (\n          <MainLayout>\n            <Recovery />\n          </MainLayout>\n        )} />\n        <Route path=\"/dashboard\" render={() => (\n          <WithAuth>\n            <DashboardLayout>\n              <Dashboard />\n            </DashboardLayout>\n          </WithAuth>\n        )} />\n        <Route path=\"/order/:orderID\" render={() => (\n          <WithAuth>\n            <DashboardLayout>\n              <Order />\n            </DashboardLayout>\n          </WithAuth>\n        )} />\n        <Route path=\"/admin\" render={() => (\n          <WithAdminAuth>\n            <AdminLayout>\n              <Admin />\n            </AdminLayout>\n          </WithAdminAuth>\n        )} />\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport { store, persistor } from './redux/createStore';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <BrowserRouter>\n        <PersistGate persistor={persistor}>\n          <App />\n        </PersistGate>\n      </BrowserRouter>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}